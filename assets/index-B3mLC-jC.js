(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function sv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var pd={exports:{}},oo={};var g_;function lA(){if(g_)return oo;g_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:c}}return oo.Fragment=t,oo.jsx=i,oo.jsxs=i,oo}var p_;function oA(){return p_||(p_=1,pd.exports=lA()),pd.exports}var Q=oA(),yd={exports:{}},vt={};var y_;function uA(){if(y_)return vt;y_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function lt(O,X,nt){this.props=O,this.context=X,this.refs=W,this.updater=nt||H}lt.prototype.isReactComponent={},lt.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},lt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function mt(){}mt.prototype=lt.prototype;function ft(O,X,nt){this.props=O,this.context=X,this.refs=W,this.updater=nt||H}var qt=ft.prototype=new mt;qt.constructor=ft,Z(qt,lt.prototype),qt.isPureReactComponent=!0;var Vt=Array.isArray;function wt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(O,X,nt){var st=nt.ref;return{$$typeof:a,type:O,key:X,ref:st!==void 0?st:null,props:nt}}function V(O,X){return C(O.type,X,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function k(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return X[nt]})}var w=/\/+/g;function ne(O,X){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):X.toString(36)}function Re(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(wt,wt):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,nt,st,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(St){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case a:case t:kt=!0;break;case A:return kt=O._init,F(kt(O._payload),X,nt,st,yt)}}if(kt)return yt=yt(O),kt=st===""?"."+ne(O,0):st,Vt(yt)?(nt="",kt!=null&&(nt=kt.replace(w,"$&/")+"/"),F(yt,X,nt,"",function(Js){return Js})):yt!=null&&(D(yt)&&(yt=V(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+kt)),X.push(yt)),1;kt=0;var Ce=st===""?".":st+":";if(Vt(O))for(var ie=0;ie<O.length;ie++)st=O[ie],St=Ce+ne(st,ie),kt+=F(st,X,nt,St,yt);else if(ie=q(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(st=O.next()).done;)st=st.value,St=Ce+ne(st,ie++),kt+=F(st,X,nt,St,yt);else if(St==="object"){if(typeof O.then=="function")return F(Re(O),X,nt,st,yt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function et(O,X,nt){if(O==null)return O;var st=[],yt=0;return F(O,st,"","",function(St){return X.call(nt,St,yt++)}),st}function ct(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:et,forEach:function(O,X,nt){et(O,function(){X.apply(this,arguments)},nt)},count:function(O){var X=0;return et(O,function(){X++}),X},toArray:function(O){return et(O,function(X){return X})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=S,vt.Children=Gt,vt.Component=lt,vt.Fragment=i,vt.Profiler=o,vt.PureComponent=ft,vt.StrictMode=r,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,X,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=Z({},O.props),yt=O.key;if(X!=null)for(St in X.key!==void 0&&(yt=""+X.key),X)!b.call(X,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&X.ref===void 0||(st[St]=X[St]);var St=arguments.length-2;if(St===1)st.children=nt;else if(1<St){for(var kt=Array(St),Ce=0;Ce<St;Ce++)kt[Ce]=arguments[Ce+2];st.children=kt}return C(O.type,yt,st)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,X,nt){var st,yt={},St=null;if(X!=null)for(st in X.key!==void 0&&(St=""+X.key),X)b.call(X,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=X[st]);var kt=arguments.length-2;if(kt===1)yt.children=nt;else if(1<kt){for(var Ce=Array(kt),ie=0;ie<kt;ie++)Ce[ie]=arguments[ie+2];yt.children=Ce}if(O&&O.defaultProps)for(st in kt=O.defaultProps,kt)yt[st]===void 0&&(yt[st]=kt[st]);return C(O,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:p,render:O}},vt.isValidElement=D,vt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ct}},vt.memo=function(O,X){return{$$typeof:y,type:O,compare:X===void 0?null:X}},vt.startTransition=function(O){var X=I.T,nt={};I.T=nt;try{var st=O(),yt=I.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(wt,Lt)}catch(St){Lt(St)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),I.T=X}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(O){return I.H.use(O)},vt.useActionState=function(O,X,nt){return I.H.useActionState(O,X,nt)},vt.useCallback=function(O,X){return I.H.useCallback(O,X)},vt.useContext=function(O){return I.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,X){return I.H.useDeferredValue(O,X)},vt.useEffect=function(O,X){return I.H.useEffect(O,X)},vt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(O,X,nt){return I.H.useImperativeHandle(O,X,nt)},vt.useInsertionEffect=function(O,X){return I.H.useInsertionEffect(O,X)},vt.useLayoutEffect=function(O,X){return I.H.useLayoutEffect(O,X)},vt.useMemo=function(O,X){return I.H.useMemo(O,X)},vt.useOptimistic=function(O,X){return I.H.useOptimistic(O,X)},vt.useReducer=function(O,X,nt){return I.H.useReducer(O,X,nt)},vt.useRef=function(O){return I.H.useRef(O)},vt.useState=function(O){return I.H.useState(O)},vt.useSyncExternalStore=function(O,X,nt){return I.H.useSyncExternalStore(O,X,nt)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.2.0",vt}var __;function rm(){return __||(__=1,yd.exports=uA()),yd.exports}var Ue=rm();const cA=sv(Ue);var _d={exports:{}},uo={},vd={exports:{}},Ed={};var v_;function hA(){return v_||(v_=1,(function(a){function t(F,et){var ct=F.length;F.push(et);t:for(;0<ct;){var Lt=ct-1>>>1,Gt=F[Lt];if(0<o(Gt,et))F[Lt]=et,F[ct]=Gt,ct=Lt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var et=F[0],ct=F.pop();if(ct!==et){F[0]=ct;t:for(var Lt=0,Gt=F.length,O=Gt>>>1;Lt<O;){var X=2*(Lt+1)-1,nt=F[X],st=X+1,yt=F[st];if(0>o(nt,ct))st<Gt&&0>o(yt,nt)?(F[Lt]=yt,F[st]=ct,Lt=st):(F[Lt]=nt,F[X]=ct,Lt=X);else if(st<Gt&&0>o(yt,ct))F[Lt]=yt,F[st]=ct,Lt=st;else break t}}return et}function o(F,et){var ct=F.sortIndex-et.sortIndex;return ct!==0?ct:F.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,M=3,q=!1,H=!1,Z=!1,W=!1,lt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function qt(F){for(var et=i(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=F)r(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function Vt(F){if(Z=!1,qt(F),!H)if(i(_)!==null)H=!0,wt||(wt=!0,k());else{var et=i(y);et!==null&&Re(Vt,et.startTime-F)}}var wt=!1,I=-1,b=5,C=-1;function V(){return W?!0:!(a.unstable_now()-C<b)}function D(){if(W=!1,wt){var F=a.unstable_now();C=F;var et=!0;try{t:{H=!1,Z&&(Z=!1,mt(I),I=-1),q=!0;var ct=M;try{e:{for(qt(F),S=i(_);S!==null&&!(S.expirationTime>F&&V());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,M=S.priorityLevel;var Gt=Lt(S.expirationTime<=F);if(F=a.unstable_now(),typeof Gt=="function"){S.callback=Gt,qt(F),et=!0;break e}S===i(_)&&r(_),qt(F)}else r(_);S=i(_)}if(S!==null)et=!0;else{var O=i(y);O!==null&&Re(Vt,O.startTime-F),et=!1}}break t}finally{S=null,M=ct,q=!1}et=void 0}}finally{et?k():wt=!1}}}var k;if(typeof ft=="function")k=function(){ft(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=D,k=function(){ne.postMessage(null)}}else k=function(){lt(D,0)};function Re(F,et){I=lt(function(){F(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function(F){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ct=M;M=et;try{return F()}finally{M=ct}},a.unstable_requestPaint=function(){W=!0},a.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ct=M;M=F;try{return et()}finally{M=ct}},a.unstable_scheduleCallback=function(F,et,ct){var Lt=a.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Lt+ct:Lt):ct=Lt,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ct+Gt,F={id:A++,callback:et,priorityLevel:F,startTime:ct,expirationTime:Gt,sortIndex:-1},ct>Lt?(F.sortIndex=ct,t(y,F),i(_)===null&&F===i(y)&&(Z?(mt(I),I=-1):Z=!0,Re(Vt,ct-Lt))):(F.sortIndex=Gt,t(_,F),H||q||(H=!0,wt||(wt=!0,k()))),F},a.unstable_shouldYield=V,a.unstable_wrapCallback=function(F){var et=M;return function(){var ct=M;M=et;try{return F.apply(this,arguments)}finally{M=ct}}}})(Ed)),Ed}var E_;function fA(){return E_||(E_=1,vd.exports=hA()),vd.exports}var Td={exports:{}},Ye={};var T_;function dA(){if(T_)return Ye;T_=1;var a=rm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Ye.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},Ye.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Ye.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ye.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:q}):A==="script"&&r.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Ye.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Ye.requestFormReset=function(_){r.d.r(_)},Ye.unstable_batchedUpdates=function(_,y){return _(y)},Ye.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var A_;function mA(){if(A_)return Td.exports;A_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Td.exports=dA(),Td.exports}var S_;function gA(){if(S_)return uo;S_=1;var a=fA(),t=rm(),i=mA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Vt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case lt:return"Profiler";case W:return"StrictMode";case Vt:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case ft:return e.displayName||"Context";case mt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Re=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Lt=[],Gt=-1;function O(e){return{current:e}}function X(e){0>Gt||(e.current=Lt[Gt],Lt[Gt]=null,Gt--)}function nt(e,n){Gt++,Lt[Gt]=e.current,e.current=n}var st=O(null),yt=O(null),St=O(null),kt=O(null);function Ce(e,n){switch(nt(St,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Py(n),e=zy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(st),nt(st,e)}function ie(){X(st),X(yt),X(St)}function Js(e){e.memoizedState!==null&&nt(kt,e);var n=st.current,s=zy(n,e.type);n!==s&&(nt(yt,e),nt(st,s))}function qr(e){yt.current===e&&(X(st),X(yt)),kt.current===e&&(X(kt),so._currentValue=ct)}var Hr,Gr;function $n(e){if(Hr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Hr=n&&n[1]||"",Gr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+e+Gr}var sl=!1;function Ws(e,n){if(!e||sl)return"";sl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var G=`
`+R[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{sl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?$n(s):""}function rl(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return Ws(e.type,!1);case 11:return Ws(e.type.render,!1);case 1:return Ws(e.type,!0);case 31:return $n("Activity");default:return""}}function al(e){try{var n="",s=null;do n+=rl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,ns=a.unstable_cancelCallback,yh=a.unstable_shouldYield,zo=a.unstable_requestPaint,We=a.unstable_now,tr=a.unstable_getCurrentPriorityLevel,ll=a.unstable_ImmediatePriority,ol=a.unstable_UserBlockingPriority,is=a.unstable_NormalPriority,_h=a.unstable_LowPriority,jo=a.unstable_IdlePriority,Bo=a.log,qo=a.unstable_setDisableYieldValue,Un=null,ze=null;function An(e){if(typeof Bo=="function"&&qo(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Un,e)}catch{}}var ce=Math.clz32?Math.clz32:Go,Ho=Math.log,Fr=Math.LN2;function Go(e){return e>>>=0,e===0?32:31-(Ho(e)/Fr|0)|0}var Zn=256,er=262144,pe=4194304;function Jn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wn(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Jn(l):(g&=E,g!==0?h=Jn(g):s||(s=E&~e,s!==0&&(h=Jn(s))))):(E=l&~f,E!==0?h=Jn(E):g!==0?h=Jn(g):s||(s=l&~e,s!==0&&(h=Jn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ti(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function nr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-ce(s),Y=1<<G;E[G]=0,R[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}s&=~Y}l!==0&&ir(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ir(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ce(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function ul(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ce(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function cl(e,n){var s=n&-n;return s=(s&42)!==0?1:sr(s),(s&(e.suspendedLanes|n))!==0?0:s}function sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qo(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function Pn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var zn=Math.random().toString(36).slice(2),ye="__reactFiber$"+zn,Me="__reactProps$"+zn,ei="__reactContainer$"+zn,Qr="__reactEvents$"+zn,Th="__reactListeners$"+zn,Ko="__reactHandles$"+zn,Yo="__reactResources$"+zn,ni="__reactMarker$"+zn;function Kr(e){delete e[ye],delete e[Me],delete e[Qr],delete e[Th],delete e[Ko]}function ii(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ei]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Qy(e);e!==null;){if(s=e[ye])return s;e=Qy(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[ye]||e[ei]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function si(e){var n=e[Yo];return n||(n=e[Yo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ni]=!0}var hl=new Set,fl={};function ri(e,n){ai(e,n),ai(e+"Capture",n)}function ai(e,n){for(fl[e]=n,e=0;e<n.length;e++)hl.add(n[e])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},gl={};function Xo(e){return ge.call(gl,e)?!0:ge.call(ml,e)?!1:dl.test(e)?gl[e]=!0:(ml[e]=!0,!1)}function Yr(e,n,s){if(Xo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=ss(e)?"checked":"value";e._valueTracker=pl(e,n,""+e[n])}}function rr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ss(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ar=/[\n"\\]/g;function nn(e){return e.replace(ar,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xr(e,n,s,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?yl(e,g,Ve(n)):s!=null?yl(e,g,Ve(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ve(E):e.removeAttribute("name")}function $o(e,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}s=s!=null?""+Ve(s):"",n=n!=null?""+Ve(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ft(e)}function yl(e,n,s){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function rs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ve(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Zo(e,n,s){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ve(s):""}function as(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(Re(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ve(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Ft(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Jo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Jo.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function vl(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&_l(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&_l(e,f,n[f])}function $r(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var El=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,oi=null;function lr(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(Xr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Me]||null;if(!h)throw Error(r(90));Xr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&rr(l)}break t;case"textarea":Zo(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&rs(e,!!s.multiple,n,!1)}}}var Jr=!1;function us(e,n,s){if(Jr)return e(n,s);Jr=!0;try{var l=e(n);return l}finally{if(Jr=!1,(os!==null||oi!==null)&&(Qu(),os&&(n=os,e=oi,oi=os=null,lr(n),e)))for(n=0;n<e.length;n++)lr(e[n])}}function Bn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Me]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(wn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){or=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{or=!1}var ui=null,Tl=null,ur=null;function Al(){if(ur)return ur;var e,n=Tl,s=n.length,l,h="value"in ui?ui.value:ui.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return ur=h.slice(e,1<l?1-l:void 0)}function cr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function je(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=je(Di),cs=S({},Di,{view:0,detail:0}),Sl=je(cs),hs,Wr,hi,ta=S({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(hs=e.screenX-hi.screenX,Wr=e.screenY-hi.screenY):Wr=hs=0,hi=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:Wr}}),bl=je(ta),hr=S({},ta,{dataTransfer:0}),tu=je(hr),eu=S({},cs,{relatedTarget:0}),fr=je(eu),wl=S({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=je(wl),ea=S({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iu=je(ea),su=S({},Di,{data:0}),fi=je(su),ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lu[e])?!!n[e]:!1}function fs(){return ou}var tn=S({},cs,{key:function(e){if(e.key){var n=ru[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uu=je(tn),cu=S({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=je(cu),u=S({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=je(u),v=S({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),U=S({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=je(U),tt=S({},Di,{newState:0,oldState:0}),Tt=je(tt),he=[9,13,27,32],jt=wn&&"CompositionEvent"in window,se=null;wn&&"documentMode"in document&&(se=document.documentMode);var Rn=wn&&"TextEvent"in window&&!se,di=wn&&(!jt||se&&8<se&&11>=se),Hn=" ",Gn=!1;function dr(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ia=!1;function OT(e,n){switch(e){case"compositionend":return na(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function MT(e,n){if(ia)return e==="compositionend"||!jt&&dr(e,n)?(e=Al(),ur=Tl=ui=null,ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return di&&n.locale!=="ko"?null:n.data;default:return null}}var VT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!VT[e.type]:n==="textarea"}function $m(e,n,s,l){os?oi?oi.push(l):oi=[l]:os=l,n=Wu(n,"onChange"),0<n.length&&(s=new ci("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Rl=null,Cl=null;function xT(e){My(e,0)}function hu(e){var n=fn(e);if(rr(n))return e}function Zm(e,n){if(e==="change")return n}var Jm=!1;if(wn){var Ah;if(wn){var Sh="oninput"in document;if(!Sh){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),Sh=typeof Wm.oninput=="function"}Ah=Sh}else Ah=!1;Jm=Ah&&(!document.documentMode||9<document.documentMode)}function tg(){Rl&&(Rl.detachEvent("onpropertychange",eg),Cl=Rl=null)}function eg(e){if(e.propertyName==="value"&&hu(Cl)){var n=[];$m(n,Cl,e,bn(e)),us(xT,n)}}function kT(e,n,s){e==="focusin"?(tg(),Rl=n,Cl=s,Rl.attachEvent("onpropertychange",eg)):e==="focusout"&&tg()}function UT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(Cl)}function LT(e,n){if(e==="click")return hu(n)}function PT(e,n){if(e==="input"||e==="change")return hu(n)}function zT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:zT;function Il(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ge.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,n){var s=ng(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ng(s)}}function sg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=li(e.document)}return n}function bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var jT=wn&&"documentMode"in document&&11>=document.documentMode,sa=null,wh=null,Nl=null,Rh=!1;function ag(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Rh||sa==null||sa!==li(l)||(l=sa,"selectionStart"in l&&bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Nl&&Il(Nl,l)||(Nl=l,l=Wu(wh,"onSelect"),0<l.length&&(n=new ci("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=sa)))}function mr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ra={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},Ch={},lg={};wn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function gr(e){if(Ch[e])return Ch[e];if(!ra[e])return e;var n=ra[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in lg)return Ch[e]=n[s];return e}var og=gr("animationend"),ug=gr("animationiteration"),cg=gr("animationstart"),BT=gr("transitionrun"),qT=gr("transitionstart"),HT=gr("transitioncancel"),hg=gr("transitionend"),fg=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function Fn(e,n){fg.set(e,n),ri(n,[e])}var fu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],aa=0,Nh=0;function du(){for(var e=aa,n=Nh=aa=0;n<e;){var s=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&dg(s,h,f)}}function mu(e,n,s,l){Cn[aa++]=e,Cn[aa++]=n,Cn[aa++]=s,Cn[aa++]=l,Nh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Dh(e,n,s,l){return mu(e,n,s,l),gu(e)}function pr(e,n){return mu(e,null,null,n),gu(e)}function dg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function gu(e){if(50<Zl)throw Zl=0,jf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var la={};function GT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,l){return new GT(e,n,s,l)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function mg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function pu(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Oh(e)&&(g=1);else if(typeof e=="string")g=X1(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,s,n,h),e.elementType=C,e.lanes=f,e;case Z:return yr(s.children,h,f,n);case W:g=8,h|=24;break;case lt:return e=gn(12,s,n,h|2),e.elementType=lt,e.lanes=f,e;case Vt:return e=gn(13,s,n,h),e.elementType=Vt,e.lanes=f,e;case wt:return e=gn(19,s,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break t;case mt:g=9;break t;case qt:g=11;break t;case I:g=14;break t;case b:g=16,l=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=gn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function yr(e,n,s,l){return e=gn(7,e,l,n),e.lanes=s,e}function Mh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function gg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Vh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var pg=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var s=pg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:al(n)},pg.set(e,n),n)}return{value:e,source:n,stack:al(n)}}var oa=[],ua=0,yu=null,Dl=0,Nn=[],Dn=0,ds=null,mi=1,gi="";function Vi(e,n){oa[ua++]=Dl,oa[ua++]=yu,yu=e,Dl=n}function yg(e,n,s){Nn[Dn++]=mi,Nn[Dn++]=gi,Nn[Dn++]=ds,ds=e;var l=mi;e=gi;var h=32-ce(l)-1;l&=~(1<<h),s+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,mi=1<<32-ce(n)+h|s<<h|l,gi=f+e}else mi=1<<f|s<<h|l,gi=e}function xh(e){e.return!==null&&(Vi(e,1),yg(e,1,0))}function kh(e){for(;e===yu;)yu=oa[--ua],oa[ua]=null,Dl=oa[--ua],oa[ua]=null;for(;e===ds;)ds=Nn[--Dn],Nn[Dn]=null,gi=Nn[--Dn],Nn[Dn]=null,mi=Nn[--Dn],Nn[Dn]=null}function _g(e,n){Nn[Dn++]=mi,Nn[Dn++]=gi,Nn[Dn++]=ds,mi=n.id,gi=n.overflow,ds=e}var Be=null,Wt=null,xt=!1,ms=null,On=!1,Uh=Error(r(519));function gs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(In(n,e)),Uh}function vg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[ye]=e,n[Me]=l,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<Wl.length;s++)Ct(Wl[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),$o(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),as(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Uy(n.textContent,s)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||gs(e,!0)}function Eg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function ca(e){if(e!==Be)return!1;if(!xt)return Eg(e),xt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ed(e.type,e.memoizedProps)),s=!s),s&&Wt&&gs(e),Eg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=Fy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=Fy(e)}else n===27?(n=Wt,Ns(e.type)?(e=ad,ad=null,Wt=e):Wt=n):Wt=Be?Vn(e.stateNode.nextSibling):null;return!0}function _r(){Wt=Be=null,xt=!1}function Lh(){var e=ms;return e!==null&&(on===null?on=e:on.push.apply(on,e),ms=null),e}function Ol(e){ms===null?ms=[e]:ms.push(e)}var Ph=O(null),vr=null,xi=null;function ps(e,n,s){nt(Ph,n._currentValue),n._currentValue=s}function ki(e){e._currentValue=Ph.current,X(Ph)}function zh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function jh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),zh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),zh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ha(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(so):e=[so])}h=h.return}e!==null&&jh(n,e,s,l),n.flags|=262144}function _u(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){vr=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Tg(vr,e)}function vu(e,n){return vr===null&&Er(e),Tg(e,n)}function Tg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},xi===null){if(e===null)throw Error(r(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return s}var FT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},QT=a.unstable_scheduleCallback,KT=a.unstable_NormalPriority,Ee={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new FT,data:new Map,refCount:0}}function Ml(e){e.refCount--,e.refCount===0&&QT(KT,function(){e.controller.abort()})}var Vl=null,qh=0,fa=0,da=null;function YT(e,n){if(Vl===null){var s=Vl=[];qh=0,fa=Qf(),da={status:"pending",value:void 0,then:function(l){s.push(l)}}}return qh++,n.then(Ag,Ag),n}function Ag(){if(--qh===0&&Vl!==null){da!==null&&(da.status="fulfilled");var e=Vl;Vl=null,fa=0,da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function XT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Sg=F.S;F.S=function(e,n){ay=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&YT(e,n),Sg!==null&&Sg(e,n)};var Tr=O(null);function Hh(){var e=Tr.current;return e!==null?e:Jt.pooledCache}function Eu(e,n){n===null?nt(Tr,Tr.current):nt(Tr,n.pool)}function bg(){var e=Hh();return e===null?null:{parent:Ee._currentValue,pool:e}}var ma=Error(r(460)),Gh=Error(r(474)),Tu=Error(r(542)),Au={then:function(){}};function wg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e}throw Sr=n,ma}}function Ar(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Sr=s,ma):s}}var Sr=null;function Cg(){if(Sr===null)throw Error(r(459));var e=Sr;return Sr=null,e}function Ig(e){if(e===ma||e===Tu)throw Error(r(483))}var ga=null,xl=0;function Su(e){var n=xl;return xl+=1,ga===null&&(ga=[]),Rg(ga,e,n)}function kl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function bu(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ng(e){function n(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function s(x,N){if(!e)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Mi(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,K){return N===null||N.tag!==6?(N=Mh(L,x.mode,K),N.return=x,N):(N=h(N,L),N.return=x,N)}function R(x,N,L,K){var ut=L.type;return ut===Z?G(x,N,L.props.children,K,L.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Ar(ut)===N.type)?(N=h(N,L.props),kl(N,L),N.return=x,N):(N=pu(L.type,L.key,L.props,null,x.mode,K),kl(N,L),N.return=x,N)}function P(x,N,L,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Vh(L,x.mode,K),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function G(x,N,L,K,ut){return N===null||N.tag!==7?(N=yr(L,x.mode,K,ut),N.return=x,N):(N=h(N,L),N.return=x,N)}function Y(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Mh(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case q:return L=pu(N.type,N.key,N.props,null,x.mode,L),kl(L,N),L.return=x,L;case H:return N=Vh(N,x.mode,L),N.return=x,N;case b:return N=Ar(N),Y(x,N,L)}if(Re(N)||k(N))return N=yr(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return Y(x,Su(N),L);if(N.$$typeof===ft)return Y(x,vu(x,N),L);bu(x,N)}return null}function z(x,N,L,K){var ut=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:E(x,N,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===ut?R(x,N,L,K):null;case H:return L.key===ut?P(x,N,L,K):null;case b:return L=Ar(L),z(x,N,L,K)}if(Re(L)||k(L))return ut!==null?null:G(x,N,L,K,null);if(typeof L.then=="function")return z(x,N,Su(L),K);if(L.$$typeof===ft)return z(x,N,vu(x,L),K);bu(x,L)}return null}function B(x,N,L,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(L)||null,E(N,x,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return x=x.get(K.key===null?L:K.key)||null,R(N,x,K,ut);case H:return x=x.get(K.key===null?L:K.key)||null,P(N,x,K,ut);case b:return K=Ar(K),B(x,N,L,K,ut)}if(Re(K)||k(K))return x=x.get(L)||null,G(N,x,K,ut,null);if(typeof K.then=="function")return B(x,N,L,Su(K),ut);if(K.$$typeof===ft)return B(x,N,L,vu(N,K),ut);bu(N,K)}return null}function rt(x,N,L,K){for(var ut=null,Pt=null,at=N,bt=N=0,Nt=null;at!==null&&bt<L.length;bt++){at.index>bt?(Nt=at,at=null):Nt=at.sibling;var zt=z(x,at,L[bt],K);if(zt===null){at===null&&(at=Nt);break}e&&at&&zt.alternate===null&&n(x,at),N=f(zt,N,bt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt,at=Nt}if(bt===L.length)return s(x,at),xt&&Vi(x,bt),ut;if(at===null){for(;bt<L.length;bt++)at=Y(x,L[bt],K),at!==null&&(N=f(at,N,bt),Pt===null?ut=at:Pt.sibling=at,Pt=at);return xt&&Vi(x,bt),ut}for(at=l(at);bt<L.length;bt++)Nt=B(at,x,bt,L[bt],K),Nt!==null&&(e&&Nt.alternate!==null&&at.delete(Nt.key===null?bt:Nt.key),N=f(Nt,N,bt),Pt===null?ut=Nt:Pt.sibling=Nt,Pt=Nt);return e&&at.forEach(function(xs){return n(x,xs)}),xt&&Vi(x,bt),ut}function dt(x,N,L,K){if(L==null)throw Error(r(151));for(var ut=null,Pt=null,at=N,bt=N=0,Nt=null,zt=L.next();at!==null&&!zt.done;bt++,zt=L.next()){at.index>bt?(Nt=at,at=null):Nt=at.sibling;var xs=z(x,at,zt.value,K);if(xs===null){at===null&&(at=Nt);break}e&&at&&xs.alternate===null&&n(x,at),N=f(xs,N,bt),Pt===null?ut=xs:Pt.sibling=xs,Pt=xs,at=Nt}if(zt.done)return s(x,at),xt&&Vi(x,bt),ut;if(at===null){for(;!zt.done;bt++,zt=L.next())zt=Y(x,zt.value,K),zt!==null&&(N=f(zt,N,bt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return xt&&Vi(x,bt),ut}for(at=l(at);!zt.done;bt++,zt=L.next())zt=B(at,x,bt,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&at.delete(zt.key===null?bt:zt.key),N=f(zt,N,bt),Pt===null?ut=zt:Pt.sibling=zt,Pt=zt);return e&&at.forEach(function(aA){return n(x,aA)}),xt&&Vi(x,bt),ut}function Zt(x,N,L,K){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:t:{for(var ut=L.key;N!==null;){if(N.key===ut){if(ut=L.type,ut===Z){if(N.tag===7){s(x,N.sibling),K=h(N,L.props.children),K.return=x,x=K;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Ar(ut)===N.type){s(x,N.sibling),K=h(N,L.props),kl(K,L),K.return=x,x=K;break t}s(x,N);break}else n(x,N);N=N.sibling}L.type===Z?(K=yr(L.props.children,x.mode,K,L.key),K.return=x,x=K):(K=pu(L.type,L.key,L.props,null,x.mode,K),kl(K,L),K.return=x,x=K)}return g(x);case H:t:{for(ut=L.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){s(x,N.sibling),K=h(N,L.children||[]),K.return=x,x=K;break t}else{s(x,N);break}else n(x,N);N=N.sibling}K=Vh(L,x.mode,K),K.return=x,x=K}return g(x);case b:return L=Ar(L),Zt(x,N,L,K)}if(Re(L))return rt(x,N,L,K);if(k(L)){if(ut=k(L),typeof ut!="function")throw Error(r(150));return L=ut.call(L),dt(x,N,L,K)}if(typeof L.then=="function")return Zt(x,N,Su(L),K);if(L.$$typeof===ft)return Zt(x,N,vu(x,L),K);bu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(s(x,N.sibling),K=h(N,L),K.return=x,x=K):(s(x,N),K=Mh(L,x.mode,K),K.return=x,x=K),g(x)):s(x,N)}return function(x,N,L,K){try{xl=0;var ut=Zt(x,N,L,K);return ga=null,ut}catch(at){if(at===ma||at===Tu)throw at;var Pt=gn(29,at,null,x.mode);return Pt.lanes=K,Pt.return=x,Pt}finally{}}}var br=Ng(!0),Dg=Ng(!1),ys=!1;function Fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=gu(e),dg(e,null,s),n}return mu(e,l,n,s),gu(e)}function Ul(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ul(e,s)}}function Kh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Yh=!1;function Ll(){if(Yh){var e=da;if(e!==null)throw e}}function Pl(e,n,s,l){Yh=!1;var h=e.updateQueue;ys=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=P=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(It&z)===z:(l&z)===z){z!==0&&z===fa&&(Yh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,dt=E;z=n;var Zt=s;switch(dt.tag){case 1:if(rt=dt.payload,typeof rt=="function"){Y=rt.call(Zt,Y,z);break t}Y=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=dt.payload,z=typeof rt=="function"?rt.call(Zt,Y,z):rt,z==null)break t;Y=S({},Y,z);break t;case 2:ys=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=B,R=Y):G=G.next=B,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),bs|=g,e.lanes=g,e.memoizedState=Y}}function Og(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Mg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Og(s[e],n)}var pa=O(null),wu=O(0);function Vg(e,n){e=Gi,nt(wu,e),nt(pa,n),Gi=e|n.baseLanes}function Xh(){nt(wu,Gi),nt(pa,pa.current)}function $h(){Gi=wu.current,X(pa),X(wu)}var pn=O(null),Mn=null;function Es(e){var n=e.alternate;nt(fe,fe.current&1),nt(pn,e),Mn===null&&(n===null||pa.current!==null||n.memoizedState!==null)&&(Mn=e)}function Zh(e){nt(fe,fe.current),nt(pn,e),Mn===null&&(Mn=e)}function xg(e){e.tag===22?(nt(fe,fe.current),nt(pn,e),Mn===null&&(Mn=e)):Ts()}function Ts(){nt(fe,fe.current),nt(pn,pn.current)}function yn(e){X(pn),Mn===e&&(Mn=null),X(fe)}var fe=O(0);function Ru(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||sd(s)||rd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,At=null,Xt=null,Te=null,Cu=!1,ya=!1,wr=!1,Iu=0,zl=0,_a=null,$T=0;function oe(){throw Error(r(321))}function Jh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function Wh(e,n,s,l,h,f){return Ui=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?yp:gf,wr=!1,f=s(l,h),wr=!1,ya&&(f=Ug(n,s,l,h)),kg(e),f}function kg(e){F.H=ql;var n=Xt!==null&&Xt.next!==null;if(Ui=0,Te=Xt=At=null,Cu=!1,zl=0,_a=null,n)throw Error(r(300));e===null||Ae||(e=e.dependencies,e!==null&&_u(e)&&(Ae=!0))}function Ug(e,n,s,l){At=e;var h=0;do{if(ya&&(_a=null),zl=0,ya=!1,25<=h)throw Error(r(301));if(h+=1,Te=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=_p,f=n(s,l)}while(ya);return f}function ZT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?jl(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),n}function tf(){var e=Iu!==0;return Iu=0,e}function ef(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function nf(e){if(Cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cu=!1}Ui=0,Te=Xt=At=null,ya=!1,zl=Iu=0,_a=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?At.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Te===null?At.memoizedState:Te.next;if(n!==null)Te=n,Xt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?At.memoizedState=Te=e:Te=Te.next=e}return Te}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(e){var n=zl;return zl+=1,_a===null&&(_a=[]),e=Rg(_a,e,n),n=At,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?yp:gf),e}function Du(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jl(e);if(e.$$typeof===ft)return qe(e)}throw Error(r(438,String(e)))}function sf(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Nu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function Li(e,n){return typeof n=="function"?n(e):n}function Ou(e){var n=de();return rf(n,Xt,e)}function rf(e,n,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(It&Y)===Y:(Ui&Y)===Y){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===fa&&(G=!0);else if((Ui&z)===z){P=P.next,z===fa&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,At.lanes|=z,bs|=z;Y=P.action,wr&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,At.lanes|=Y,bs|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!mn(f,e.memoizedState)&&(Ae=!0,G&&(s=da,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function af(e){var n=de(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Lg(e,n,s){var l=At,h=de(),f=xt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!mn((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ae=!0),h=h.queue,uf(jg.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,va(9,{destroy:void 0},zg.bind(null,l,h,s,n),null),Jt===null)throw Error(r(349));f||(Ui&127)!==0||Pg(l,n,s)}return s}function Pg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Nu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function zg(e,n,s,l){n.value=s,n.getSnapshot=l,Bg(n)&&qg(e)}function jg(e,n,s){return s(function(){Bg(n)&&qg(e)})}function Bg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function qg(e){var n=pr(e,2);n!==null&&un(n,e,2)}function lf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),wr){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},n}function Hg(e,n,s,l){return e.baseState=s,rf(e,Xt,typeof l=="function"?l:Li)}function JT(e,n,s,l,h){if(xu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Gg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Gg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,l),R=F.S;R!==null&&R(g,E),Fg(e,n,E)}catch(P){of(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,l),Fg(e,n,f)}catch(P){of(e,n,P)}}function Fg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Qg(e,n,l)},function(l){return of(e,n,l)}):Qg(e,n,s)}function Qg(e,n,s){n.status="fulfilled",n.value=s,Kg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Gg(e,s)))}function of(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Kg(n),n=n.next;while(n!==l)}e.action=null}function Kg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Yg(e,n){return n}function Xg(e,n){if(xt){var s=Jt.formState;if(s!==null){t:{var l=At;if(xt){if(Wt){e:{for(var h=Wt,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=Vn(h.nextSibling),l=h.data==="F!";break t}}gs(l)}l=!1}l&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:n},s.queue=l,s=mp.bind(null,At,l),l.dispatch=s,l=lf(!1),f=mf.bind(null,At,!1,l.queue),l=en(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=JT.bind(null,At,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function $g(e){var n=de();return Zg(n,Xt,e)}function Zg(e,n,s){if(n=rf(e,n,Yg)[0],e=Ou(Li)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=jl(n)}catch(g){throw g===ma?Tu:g}else l=n;n=de();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,va(9,{destroy:void 0},WT.bind(null,h,s),null)),[l,f,e]}function WT(e,n){e.action=n}function Jg(e){var n=de(),s=Xt;if(s!==null)return Zg(n,s,e);de(),n=n.memoizedState,s=de();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function va(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=Nu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Wg(){return de().memoizedState}function Mu(e,n,s,l){var h=en();At.flags|=e,h.memoizedState=va(1|n,{destroy:void 0},s,l===void 0?null:l)}function Vu(e,n,s,l){var h=de();l=l===void 0?null:l;var f=h.memoizedState.inst;Xt!==null&&l!==null&&Jh(l,Xt.memoizedState.deps)?h.memoizedState=va(n,f,s,l):(At.flags|=e,h.memoizedState=va(1|n,f,s,l))}function tp(e,n){Mu(8390656,8,e,n)}function uf(e,n){Vu(2048,8,e,n)}function t1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Nu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function ep(e){var n=de().memoizedState;return t1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function np(e,n){return Vu(4,2,e,n)}function ip(e,n){return Vu(4,4,e,n)}function sp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rp(e,n,s){s=s!=null?s.concat([e]):null,Vu(4,4,sp.bind(null,n,e),s)}function cf(){}function ap(e,n){var s=de();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Jh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function lp(e,n){var s=de();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Jh(n,l[1]))return l[0];if(l=e(),wr){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[l,n],l}function hf(e,n,s){return s===void 0||(Ui&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=oy(),At.lanes|=e,bs|=e,s)}function op(e,n,s,l){return mn(s,n)?s:pa.current!==null?(e=hf(e,s,l),mn(e,n)||(Ae=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(It&261930)===0?(Ae=!0,e.memoizedState=s):(e=oy(),At.lanes|=e,bs|=e,n)}function up(e,n,s,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,mf(e,!1,n,s);try{var R=h(),P=F.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=XT(R,l);Bl(e,n,G,En(e))}else Bl(e,n,l,En(e))}catch(Y){Bl(e,n,{then:function(){},status:"rejected",reason:Y},En())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function e1(){}function ff(e,n,s,l){if(e.tag!==5)throw Error(r(476));var h=cp(e).queue;up(e,h,n,ct,s===null?e1:function(){return hp(e),s(l)})}function cp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function hp(e){var n=cp(e);n.next===null&&(n=e.alternate.memoizedState),Bl(e,n.next.queue,{},En())}function df(){return qe(so)}function fp(){return de().memoizedState}function dp(){return de().memoizedState}function n1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=_s(s);var l=vs(n,e,s);l!==null&&(un(l,n,s),Ul(l,n,s)),n={cache:Bh()},e.payload=n;return}n=n.return}}function i1(e,n,s){var l=En();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},xu(e)?gp(n,s):(s=Dh(e,n,s,l),s!==null&&(un(s,e,l),pp(s,n,l)))}function mp(e,n,s){var l=En();Bl(e,n,s,l)}function Bl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(xu(e))gp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return mu(e,n,h,0),Jt===null&&du(),!1}catch{}finally{}if(s=Dh(e,n,h,l),s!==null)return un(s,e,l),pp(s,n,l),!0}return!1}function mf(e,n,s,l){if(l={lane:2,revertLane:Qf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xu(e)){if(n)throw Error(r(479))}else n=Dh(e,s,l,2),n!==null&&un(n,e,2)}function xu(e){var n=e.alternate;return e===At||n!==null&&n===At}function gp(e,n){ya=Cu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function pp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ul(e,s)}}var ql={readContext:qe,use:Du,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};ql.useEffectEvent=oe;var yp={readContext:qe,use:Du,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:tp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Mu(4194308,4,sp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Mu(4194308,4,e,n)},useInsertionEffect:function(e,n){Mu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var l=e();if(wr){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=en();if(s!==void 0){var h=s(n);if(wr){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=i1.bind(null,At,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=lf(e);var n=e.queue,s=mp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:cf,useDeferredValue:function(e,n){var s=en();return hf(s,e,n)},useTransition:function(){var e=lf(!1);return e=up.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=At,h=en();if(xt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Jt===null)throw Error(r(349));(It&127)!==0||Pg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,tp(jg.bind(null,l,f,e),[e]),l.flags|=2048,va(9,{destroy:void 0},zg.bind(null,l,f,s,n),null),s},useId:function(){var e=en(),n=Jt.identifierPrefix;if(xt){var s=gi,l=mi;s=(l&~(1<<32-ce(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Iu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=$T++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:df,useFormState:Xg,useActionState:Xg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=mf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:sf,useCacheRefresh:function(){return en().memoizedState=n1.bind(null,At)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},gf={readContext:qe,use:Du,useCallback:ap,useContext:qe,useEffect:uf,useImperativeHandle:rp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:lp,useReducer:Ou,useRef:Wg,useState:function(){return Ou(Li)},useDebugValue:cf,useDeferredValue:function(e,n){var s=de();return op(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Ou(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:jl(e),n]},useSyncExternalStore:Lg,useId:fp,useHostTransitionStatus:df,useFormState:$g,useActionState:$g,useOptimistic:function(e,n){var s=de();return Hg(s,Xt,e,n)},useMemoCache:sf,useCacheRefresh:dp};gf.useEffectEvent=ep;var _p={readContext:qe,use:Du,useCallback:ap,useContext:qe,useEffect:uf,useImperativeHandle:rp,useInsertionEffect:np,useLayoutEffect:ip,useMemo:lp,useReducer:af,useRef:Wg,useState:function(){return af(Li)},useDebugValue:cf,useDeferredValue:function(e,n){var s=de();return Xt===null?hf(s,e,n):op(s,Xt.memoizedState,e,n)},useTransition:function(){var e=af(Li)[0],n=de().memoizedState;return[typeof e=="boolean"?e:jl(e),n]},useSyncExternalStore:Lg,useId:fp,useHostTransitionStatus:df,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,n){var s=de();return Xt!==null?Hg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:sf,useCacheRefresh:dp};_p.useEffectEvent=ep;function pf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var yf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=En(),h=_s(l);h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,l),n!==null&&(un(n,e,l),Ul(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=En(),h=_s(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,l),n!==null&&(un(n,e,l),Ul(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),l=_s(s);l.tag=2,n!=null&&(l.callback=n),n=vs(e,l,s),n!==null&&(un(n,e,s),Ul(n,e,s))}};function vp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Il(s,l)||!Il(h,f):!0}function Ep(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&yf.enqueueReplaceState(n,n.state,null)}function Rr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Tp(e){fu(e)}function Ap(e){console.error(e)}function Sp(e){fu(e)}function ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function bp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _f(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){ku(e,n)},s}function wp(e){return e=_s(e),e.tag=3,e}function Rp(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){bp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){bp(n,s,l),typeof h!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function s1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ha(n,s,h,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?Ku():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Au?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Hf(e,l,h)),!1;case 22:return s.flags|=65536,l===Au?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Hf(e,l,h)),!1}throw Error(r(435,s.tag))}return Hf(e,l,h),Ku(),!1}if(xt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Uh&&(e=Error(r(422),{cause:l}),Ol(In(e,s)))):(l!==Uh&&(n=Error(r(423),{cause:l}),Ol(In(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=In(l,s),h=_f(e.stateNode,l,h),Kh(e,h),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:l});if(f=In(f,s),$l===null?$l=[f]:$l.push(f),ue!==4&&(ue=2),n===null)return!0;l=In(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=_f(s.stateNode,l,e),Kh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=wp(h),Rp(h,e,s,l),Kh(s,h),!1}s=s.return}while(s!==null);return!1}var vf=Error(r(461)),Ae=!1;function He(e,n,s,l){n.child=e===null?Dg(n,null,s,l):br(n,e.child,s,l)}function Cp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Er(n),l=Wh(e,n,s,g,f,h),E=tf(),e!==null&&!Ae?(ef(e,n,h),Pi(e,n,h)):(xt&&E&&xh(n),n.flags|=1,He(e,n,l,h),n.child)}function Ip(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Np(e,n,f,l,h)):(e=pu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Cf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Il,s(g,l)&&e.ref===n.ref)return Pi(e,n,h)}return n.flags|=1,e=Mi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Np(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Il(f,l)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,Cf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,Pi(e,n,h)}return Ef(e,n,s,l,h)}function Dp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Op(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(n,f!==null?f.cachePool:null),f!==null?Vg(n,f):Xh(),xg(n);else return l=n.lanes=536870912,Op(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Eu(n,f.cachePool),Vg(n,f),Ts(),n.memoizedState=null):(e!==null&&Eu(n,null),Xh(),Ts());return He(e,n,h,s),n.child}function Hl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Op(e,n,s,l,h){var f=Hh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Eu(n,null),Xh(),xg(n),e!==null&&ha(e,n,l,!0),n.childLanes=h,null}function Uu(e,n){return n=Pu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Mp(e,n,s){return br(n,e.child,null,s),e=Uu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function r1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(xt){if(l.mode==="hidden")return e=Uu(n,l),n.lanes=536870912,Hl(null,e);if(Zh(n),(e=Wt)?(e=Gy(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},s=gg(e),s.return=n,n.child=s,Be=n,Wt=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return Uu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Zh(n),h)if(n.flags&256)n.flags&=-257,n=Mp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||ha(e,n,s,!1),h=(s&e.childLanes)!==0,Ae||h){if(l=Jt,l!==null&&(g=cl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,pr(e,g),un(l,e,g),vf;Ku(),n=Mp(e,n,s)}else e=f.treeContext,Wt=Vn(g.nextSibling),Be=n,xt=!0,ms=null,On=!1,e!==null&&_g(n,e),n=Uu(n,l),n.flags|=4096;return n}return e=Mi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Lu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Ef(e,n,s,l,h){return Er(n),s=Wh(e,n,s,l,void 0,h),l=tf(),e!==null&&!Ae?(ef(e,n,h),Pi(e,n,h)):(xt&&l&&xh(n),n.flags|=1,He(e,n,s,h),n.child)}function Vp(e,n,s,l,h,f){return Er(n),n.updateQueue=null,s=Ug(n,l,s,h),kg(e),l=tf(),e!==null&&!Ae?(ef(e,n,f),Pi(e,n,f)):(xt&&l&&xh(n),n.flags|=1,He(e,n,s,f),n.child)}function xp(e,n,s,l,h){if(Er(n),n.stateNode===null){var f=la,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Fh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):la,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(pf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&yf.enqueueReplaceState(f,f.state,null),Pl(n,l,f,h),Ll(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Rr(s,E);f.props=R;var P=f.context,G=s.contextType;g=la,typeof G=="object"&&G!==null&&(g=qe(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Ep(n,f,l,g),ys=!1;var z=n.memoizedState;f.state=z,Pl(n,l,f,h),Ll(),P=n.memoizedState,E||z!==P||ys?(typeof Y=="function"&&(pf(n,s,Y,l),P=n.memoizedState),(R=ys||vp(n,s,R,l,z,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qh(e,n),g=n.memoizedProps,G=Rr(s,g),f.props=G,Y=n.pendingProps,z=f.context,P=s.contextType,R=la,typeof P=="object"&&P!==null&&(R=qe(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==R)&&Ep(n,f,l,R),ys=!1,z=n.memoizedState,f.state=z,Pl(n,l,f,h),Ll();var B=n.memoizedState;g!==Y||z!==B||ys||e!==null&&e.dependencies!==null&&_u(e.dependencies)?(typeof E=="function"&&(pf(n,s,E,l),B=n.memoizedState),(G=ys||vp(n,s,G,l,z,B,R)||e!==null&&e.dependencies!==null&&_u(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Lu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=br(n,e.child,null,h),n.child=br(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Pi(e,n,h),e}function kp(e,n,s,l){return _r(),n.flags|=256,He(e,n,s,l),n.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:bg()}}function Sf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Up(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(xt){if(h?Es(n):Ts(),(e=Wt)?(e=Gy(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},s=gg(e),s.return=n,n.child=s,Be=n,Wt=null)):e=null,e===null)throw gs(n);return rd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ts(),h=n.mode,E=Pu({mode:"hidden",children:E},h),l=yr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Af(s),l.childLanes=Sf(e,g,s),n.memoizedState=Tf,Hl(null,l)):(Es(n),bf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Es(n),n.flags&=-257,n=wf(e,n,s)):n.memoizedState!==null?(Ts(),n.child=e.child,n.flags|=128,n=null):(Ts(),E=l.fallback,h=n.mode,l=Pu({mode:"visible",children:l.children},h),E=yr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,br(n,e.child,null,s),l=n.child,l.memoizedState=Af(s),l.childLanes=Sf(e,g,s),n.memoizedState=Tf,n=Hl(null,l));else if(Es(n),rd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(r(419)),l.stack="",l.digest=g,Ol({value:l,source:null,stack:null}),n=wf(e,n,s)}else if(Ae||ha(e,n,s,!1),g=(s&e.childLanes)!==0,Ae||g){if(g=Jt,g!==null&&(l=cl(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,pr(e,l),un(g,e,l),vf;sd(E)||Ku(),n=wf(e,n,s)}else sd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Wt=Vn(E.nextSibling),Be=n,xt=!0,ms=null,On=!1,e!==null&&_g(n,e),n=bf(n,l.children),n.flags|=4096);return n}return h?(Ts(),E=l.fallback,h=n.mode,R=e.child,P=R.sibling,l=Mi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Mi(P,E):(E=yr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Hl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Af(s):(h=E.cachePool,h!==null?(R=Ee._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=bg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Sf(e,g,s),n.memoizedState=Tf,Hl(e.child,l)):(Es(n),s=e.child,e=s.sibling,s=Mi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function bf(e,n){return n=Pu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Pu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function wf(e,n,s){return br(n,e.child,null,s),e=bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),zh(e.return,n,s)}function Rf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Pp(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(fe,g),He(e,n,l,s),l=xt?Dl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,s,n);else if(e.tag===19)Lp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ru(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Rf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ru(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Rf(n,!0,s,null,f,l);break;case"together":Rf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ha(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Cf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&_u(e)))}function a1(e,n,s){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ps(n,Ee,e.memoizedState.cache),_r();break;case 27:case 5:Js(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Es(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Up(e,n,s):(Es(n),e=Pi(e,n,s),e!==null?e.sibling:null);Es(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ha(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Pp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(fe,fe.current),l)break;return null;case 22:return n.lanes=0,Dp(e,n,s,n.pendingProps);case 24:ps(n,Ee,e.memoizedState.cache)}return Pi(e,n,s)}function zp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Cf(e,s)&&(n.flags&128)===0)return Ae=!1,a1(e,n,s);Ae=(e.flags&131072)!==0}else Ae=!1,xt&&(n.flags&1048576)!==0&&yg(n,Dl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Ar(n.elementType),n.type=e,typeof e=="function")Oh(e)?(l=Rr(e,l),n.tag=1,n=xp(null,n,e,l,s)):(n.tag=0,n=Ef(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Cp(null,n,e,l,s);break t}else if(h===I){n.tag=14,n=Ip(null,n,e,l,s);break t}}throw n=ne(e)||e,Error(r(306,n,""))}}return n;case 0:return Ef(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Rr(l,n.pendingProps),xp(e,n,l,h,s);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Qh(e,n),Pl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,ps(n,Ee,l),l!==f.cache&&jh(n,[Ee],s,!0),Ll(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kp(e,n,l,s);break t}else if(l!==h){h=In(Error(r(424)),n),Ol(h),n=kp(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=Vn(e.firstChild),Be=n,xt=!0,ms=null,On=!0,s=Dg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(_r(),l===h){n=Pi(e,n,s);break t}He(e,n,l,s)}n=n.child}return n;case 26:return Lu(e,n),e===null?(s=$y(n.type,null,n.pendingProps,null))?n.memoizedState=s:xt||(s=n.type,e=n.pendingProps,l=tc(St.current).createElement(s),l[ye]=n,l[Me]=e,Ge(l,s,e),_e(l),n.stateNode=l):n.memoizedState=$y(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Js(n),e===null&&xt&&(l=n.stateNode=Ky(n.type,n.pendingProps,St.current),Be=n,On=!0,h=Wt,Ns(n.type)?(ad=h,Wt=Vn(l.firstChild)):Wt=h),He(e,n,n.pendingProps.children,s),Lu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xt&&((h=l=Wt)&&(l=U1(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Be=n,Wt=Vn(l.firstChild),On=!1,h=!0):h=!1),h||gs(n)),Js(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,ed(h,f)?l=null:g!==null&&ed(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Wh(e,n,ZT,null,null,s),so._currentValue=h),Lu(e,n),He(e,n,l,s),n.child;case 6:return e===null&&xt&&((e=s=Wt)&&(s=L1(s,n.pendingProps,On),s!==null?(n.stateNode=s,Be=n,Wt=null,e=!0):e=!1),e||gs(n)),null;case 13:return Up(e,n,s);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=br(n,null,l,s):He(e,n,l,s),n.child;case 11:return Cp(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ps(n,n.type,l.value),He(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Er(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,s),n.child;case 14:return Ip(e,n,n.type,n.pendingProps,s);case 15:return Np(e,n,n.type,n.pendingProps,s);case 19:return Pp(e,n,s);case 31:return r1(e,n,s);case 22:return Dp(e,n,s,n.pendingProps);case 24:return Er(n),l=qe(Ee),e===null?(h=Hh(),h===null&&(h=Jt,f=Bh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},Fh(n),ps(n,Ee,h)):((e.lanes&s)!==0&&(Qh(e,n),Pl(n,null,null,s),Ll()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ps(n,Ee,l)):(l=f.cache,ps(n,Ee,l),l!==h.cache&&jh(n,[Ee],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(e){e.flags|=4}function If(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(fy())e.flags|=8192;else throw Sr=Au,Gh}else e.flags&=-16777217}function jp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!e_(n))if(fy())e.flags|=8192;else throw Sr=Au,Gh}function zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Fo():536870912,e.lanes|=n,Sa|=n)}function Gl(e,n){if(!xt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function l1(e,n,s){var l=n.pendingProps;switch(kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ki(Ee),ie(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ca(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(te(n),jp(n,f)):(te(n),If(n,h,null,l,s))):f?f!==e.memoizedState?(zi(n),te(n),jp(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&zi(n),te(n),If(n,h,e,l,s)),null;case 27:if(qr(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}e=st.current,ca(n)?vg(n):(e=Ky(h,l,s),n.stateNode=e,zi(n))}return te(n),null;case 5:if(qr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(f=st.current,ca(n))vg(n);else{var g=tc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[ye]=n,f[Me]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(n)}}return te(n),If(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,ca(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Uy(e.nodeValue,s)),e||gs(n,!0)}else e=tc(e).createTextNode(l),e[ye]=n,n.stateNode=e}return te(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ca(n),s!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ye]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else s=Lh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ca(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ye]=n}else _r(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Lh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),zu(n,n.updateQueue),te(n),null);case 4:return ie(),e===null&&$f(n.stateNode.containerInfo),te(n),null;case 10:return ki(n.type),te(n),null;case 19:if(X(fe),l=n.memoizedState,l===null)return te(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Gl(l,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ru(e),f!==null){for(n.flags|=128,Gl(l,!1),e=f.updateQueue,n.updateQueue=e,zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)mg(s,e),s=s.sibling;return nt(fe,fe.current&1|2),xt&&Vi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&We()>Gu&&(n.flags|=128,h=!0,Gl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Ru(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,zu(n,e),Gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!xt)return te(n),null}else 2*We()-l.renderingStartTime>Gu&&s!==536870912&&(n.flags|=128,h=!0,Gl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,s=fe.current,nt(fe,h?s&1|2:s&1),xt&&Vi(n,l.treeForkCount),e):(te(n),null);case 22:case 23:return yn(n),$h(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&X(Tr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ki(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function o1(e,n){switch(kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(Ee),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));_r()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(fe),null;case 4:return ie(),null;case 10:return ki(n.type),null;case 22:case 23:return yn(n),$h(),e!==null&&X(Tr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(Ee),null;case 25:return null;default:return null}}function Bp(e,n){switch(kh(n),n.tag){case 3:ki(Ee),ie();break;case 26:case 27:case 5:qr(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:X(fe);break;case 10:ki(n.type);break;case 22:case 23:yn(n),$h(),e!==null&&X(Tr);break;case 24:ki(Ee)}}function Fl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function As(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,P=E;try{P()}catch(G){Kt(h,R,G)}}}l=l.next}while(l!==f)}}catch(G){Kt(n,n.return,G)}}function qp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Mg(n,s)}catch(l){Kt(e,e.return,l)}}}function Hp(e,n,s){s.props=Rr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Kt(e,n,l)}}function Ql(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Kt(e,n,h)}}function pi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function Gp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function Nf(e,n,s){try{var l=e.stateNode;D1(l,e.type,s,n),l[Me]=n}catch(h){Kt(e,e.return,h)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function Df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&Ns(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Of(e,n,s),e=e.sibling;e!==null;)Of(e,n,s),e=e.sibling}function ju(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ns(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ju(e,n,s),e=e.sibling;e!==null;)ju(e,n,s),e=e.sibling}function Qp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,s),n[ye]=e,n[Me]=s}catch(f){Kt(e,e.return,f)}}var ji=!1,Se=!1,Mf=!1,Kp=typeof WeakSet=="function"?WeakSet:Set,xe=null;function u1(e,n){if(e=e.containerInfo,Wf=lc,e=rg(e),bh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,P=0,G=0,Y=e,z=null;e:for(;;){for(var B;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||l!==0&&Y.nodeType!==3||(R=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++G===l&&(R=g),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(td={focusedElem:e,selectionRange:s},lc=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var rt=Rr(s.type,h);e=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Kt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)id(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function Yp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),l&4&&Fl(5,s);break;case 1:if(qi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var h=Rr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}l&64&&qp(s),l&512&&Ql(s,s.return);break;case 3:if(qi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Mg(e,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&l&4&&Qp(s);case 26:case 5:qi(e,s),n===null&&l&4&&Gp(s),l&512&&Ql(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),l&4&&Zp(e,s);break;case 13:qi(e,s),l&4&&Jp(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=_1.bind(null,s),P1(e,s))));break;case 22:if(l=s.memoizedState!==null||ji,!l){n=n!==null&&n.memoizedState!==null||Se,h=ji;var f=Se;ji=l,(Se=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),ji=h,Se=f}break;case 30:break;default:qi(e,s)}}function Xp(e){var n=e.alternate;n!==null&&(e.alternate=null,Xp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Kr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,rn=!1;function Bi(e,n,s){for(s=s.child;s!==null;)$p(e,n,s),s=s.sibling}function $p(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Un,s)}catch{}switch(s.tag){case 26:Se||pi(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||pi(s,n);var l=re,h=rn;Ns(s.type)&&(re=s.stateNode,rn=!1),Bi(e,n,s),eo(s.stateNode),re=l,rn=h;break;case 5:Se||pi(s,n);case 6:if(l=re,h=rn,re=null,Bi(e,n,s),re=l,rn=h,re!==null)if(rn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{re.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:re!==null&&(rn?(e=re,qy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Oa(e)):qy(re,s.stateNode));break;case 4:l=re,h=rn,re=s.stateNode.containerInfo,rn=!0,Bi(e,n,s),re=l,rn=h;break;case 0:case 11:case 14:case 15:As(2,s,n),Se||As(4,s,n),Bi(e,n,s);break;case 1:Se||(pi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Hp(s,n,l)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:Se=(l=Se)||s.memoizedState!==null,Bi(e,n,s),Se=l;break;default:Bi(e,n,s)}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(s){Kt(n,n.return,s)}}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(s){Kt(n,n.return,s)}}function c1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Kp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Kp),n;default:throw Error(r(435,e.tag))}}function Bu(e,n){var s=c1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=v1.bind(null,e,l);l.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){re=E.stateNode,rn=!1;break t}break;case 5:re=E.stateNode,rn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(re===null)throw Error(r(160));$p(f,g,h),re=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wp(n,e),n=n.sibling}var Qn=null;function Wp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),ln(e),l&4&&(As(3,e,e.return),Fl(3,e),As(5,e,e.return));break;case 1:an(n,e),ln(e),l&512&&(Se||s===null||pi(s,s.return)),l&64&&ji&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Qn;if(an(n,e),ln(e),l&512&&(Se||s===null||pi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ni]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,l,s),f[ye]=e,_e(f),l=f;break t;case"link":var g=Wy("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;case"meta":if(g=Wy("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[ye]=e,_e(f),l=f}e.stateNode=l}else t_(h,e.type,e.stateNode);else e.stateNode=Jy(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?t_(h,e.type,e.stateNode):Jy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Nf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),ln(e),l&512&&(Se||s===null||pi(s,s.return)),s!==null&&l&4&&Nf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),ln(e),l&512&&(Se||s===null||pi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(rt){Kt(e,e.return,rt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Nf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Mf=!0);break;case 6:if(an(n,e),ln(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(rt){Kt(e,e.return,rt)}}break;case 3:if(ic=null,h=Qn,Qn=ec(n.containerInfo),an(n,e),Qn=h,ln(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(rt){Kt(e,e.return,rt)}Mf&&(Mf=!1,ty(e));break;case 4:l=Qn,Qn=ec(e.stateNode.containerInfo),an(n,e),ln(e),Qn=l;break;case 12:an(n,e),ln(e);break;case 31:an(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bu(e,l)));break;case 13:an(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hu=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bu(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=ji,G=Se;if(ji=P||h,Se=G||R,an(n,e),Se=G,ji=P,ln(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||ji||Se||Cr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Kt(R,R.return,rt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(rt){Kt(R,R.return,rt)}}}else if(n.tag===18){if(s===null){R=n;try{var B=R.stateNode;h?Hy(B,!0):Hy(R.stateNode,!1)}catch(rt){Kt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Bu(e,s))));break;case 19:an(n,e),ln(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bu(e,l)));break;case 30:break;case 21:break;default:an(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Fp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Df(e);ju(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=Df(e);ju(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=Df(e);Of(e,P,R);break;default:throw Error(r(161))}}catch(G){Kt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yp(e,n.alternate,n),n=n.sibling}function Cr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Cr(n);break;case 1:pi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Hp(n,n.return,s),Cr(n);break;case 27:eo(n.stateNode);case 26:case 5:pi(n,n.return),Cr(n);break;case 22:n.memoizedState===null&&Cr(n);break;case 30:Cr(n);break;default:Cr(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,s),Fl(4,f);break;case 1:if(Hi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Og(R[h],E)}catch(P){Kt(l,l.return,P)}}s&&g&64&&qp(f),Ql(f,f.return);break;case 27:Qp(f);case 26:case 5:Hi(h,f,s),s&&l===null&&g&4&&Gp(f),Ql(f,f.return);break;case 12:Hi(h,f,s);break;case 31:Hi(h,f,s),s&&g&4&&Zp(h,f);break;case 13:Hi(h,f,s),s&&g&4&&Jp(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,s),Ql(f,f.return);break;case 30:break;default:Hi(h,f,s)}n=n.sibling}}function Vf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ml(s))}function xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e))}function Kn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ey(e,n,s,l),n=n.sibling}function ey(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,l),h&2048&&Fl(9,n);break;case 1:Kn(e,n,s,l);break;case 3:Kn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e)));break;case 12:if(h&2048){Kn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Kn(e,n,s,l);break;case 31:Kn(e,n,s,l);break;case 13:Kn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,l):Kl(e,n):f._visibility&2?Kn(e,n,s,l):(f._visibility|=2,Ea(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Vf(g,n);break;case 24:Kn(e,n,s,l),h&2048&&xf(n.alternate,n);break;default:Kn(e,n,s,l)}}function Ea(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ea(f,g,E,R,h),Fl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ea(f,g,E,R,h):Kl(f,g):(G._visibility|=2,Ea(f,g,E,R,h)),h&&P&2048&&Vf(g.alternate,g);break;case 24:Ea(f,g,E,R,h),h&&P&2048&&xf(g.alternate,g);break;default:Ea(f,g,E,R,h)}n=n.sibling}}function Kl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Kl(s,l),h&2048&&Vf(l.alternate,l);break;case 24:Kl(s,l),h&2048&&xf(l.alternate,l);break;default:Kl(s,l)}n=n.sibling}}var Yl=8192;function Ta(e,n,s){if(e.subtreeFlags&Yl)for(e=e.child;e!==null;)ny(e,n,s),e=e.sibling}function ny(e,n,s){switch(e.tag){case 26:Ta(e,n,s),e.flags&Yl&&e.memoizedState!==null&&$1(s,Qn,e.memoizedState,e.memoizedProps);break;case 5:Ta(e,n,s);break;case 3:case 4:var l=Qn;Qn=ec(e.stateNode.containerInfo),Ta(e,n,s),Qn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Yl,Yl=16777216,Ta(e,n,s),Yl=l):Ta(e,n,s));break;default:Ta(e,n,s)}}function iy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];xe=l,ry(l,e)}iy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sy(e),e=e.sibling}function sy(e){switch(e.tag){case 0:case 11:case 15:Xl(e),e.flags&2048&&As(9,e,e.return);break;case 3:Xl(e);break;case 12:Xl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,qu(e)):Xl(e);break;default:Xl(e)}}function qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];xe=l,ry(l,e)}iy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),qu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,qu(n));break;default:qu(n)}e=e.sibling}}function ry(e,n){for(;xe!==null;){var s=xe;switch(s.tag){case 0:case 11:case 15:As(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ml(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,xe=l;else t:for(s=e;xe!==null;){l=xe;var h=l.sibling,f=l.return;if(Xp(l),l===s){xe=null;break t}if(h!==null){h.return=f,xe=h;break t}xe=f}}}var h1={getCacheForType:function(e){var n=qe(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Ee).controller.signal}},f1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,Rt=null,It=0,Qt=0,_n=null,Ss=!1,Aa=!1,kf=!1,Gi=0,ue=0,bs=0,Ir=0,Uf=0,vn=0,Sa=0,$l=null,on=null,Lf=!1,Hu=0,ay=0,Gu=1/0,Fu=null,ws=null,Ne=0,Rs=null,ba=null,Fi=0,Pf=0,zf=null,ly=null,Zl=0,jf=null;function En(){return(Bt&2)!==0&&It!==0?It&-It:F.T!==null?Qf():Qo()}function oy(){if(vn===0)if((It&536870912)===0||xt){var e=er;er<<=1,(er&3932160)===0&&(er=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,s){(e===Jt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(wa(e,0),Cs(e,It,vn,!1)),nr(e,s),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(Ir|=s),ue===4&&Cs(e,It,vn,!1)),yi(e))}function uy(e,n,s){if((Bt&6)!==0)throw Error(r(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=l?g1(e,n):qf(e,n,!0),f=l;do{if(h===0){Aa&&!l&&Cs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!d1(s)){h=qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=$l;var R=E.current.memoizedState.isDehydrated;if(R&&(wa(E,g).flags|=256),g=qf(E,g,!1),g!==2){if(kf&&!R){E.errorRecoveryDisabledLanes|=f,Ir|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){wa(e,0),Cs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Cs(l,n,vn,!Ss);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Hu+300-We(),10<h)){if(Cs(l,n,vn,!Ss),Wn(l,0,!0)!==0)break t;Fi=n,l.timeoutHandle=jy(cy.bind(null,l,s,on,Fu,Lf,n,vn,Ir,Sa,Ss,f,"Throttled",-0,0),h);break t}cy(l,s,on,Fu,Lf,n,vn,Ir,Sa,Ss,f,null,-0,0)}}break}while(!0);yi(e)}function cy(e,n,s,l,h,f,g,E,R,P,G,Y,z,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},ny(n,f,Y);var rt=(f&62914560)===f?Hu-We():(f&4194048)===f?ay-We():0;if(rt=Z1(Y,rt),rt!==null){Fi=f,e.cancelPendingCommit=rt(_y.bind(null,e,n,f,s,l,h,g,E,R,G,Y,null,z,B)),Cs(e,f,g,!P);return}}_y(e,n,f,s,l,h,g,E,R)}function d1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(e,n,s,l){n&=~Uf,n&=~Ir,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&ir(e,s,n)}function Qu(){return(Bt&6)===0?(Jl(0),!1):!0}function Bf(){if(Rt!==null){if(Qt===0)var e=Rt.return;else e=Rt,xi=vr=null,nf(e),ga=null,xl=0,e=Rt;for(;e!==null;)Bp(e.alternate,e),e=e.return;Rt=null}}function wa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,V1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,Bf(),Jt=e,Rt=s=Mi(e.current,null),It=n,Qt=0,_n=null,Ss=!1,Aa=Ln(e,n),kf=!1,Sa=vn=Uf=Ir=bs=ue=0,on=$l=null,Lf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-ce(l),f=1<<h;n|=e[h],l&=~f}return Gi=n,du(),s}function hy(e,n){At=null,F.H=ql,n===ma||n===Tu?(n=Cg(),Qt=3):n===Gh?(n=Cg(),Qt=4):Qt=n===vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Rt===null&&(ue=1,ku(e,In(n,e.current)))}function fy(){var e=pn.current;return e===null?!0:(It&4194048)===It?Mn===null:(It&62914560)===It||(It&536870912)!==0?e===Mn:!1}function dy(){var e=F.H;return F.H=ql,e===null?ql:e}function my(){var e=F.A;return F.A=h1,e}function Ku(){ue=4,Ss||(It&4194048)!==It&&pn.current!==null||(Aa=!0),(bs&134217727)===0&&(Ir&134217727)===0||Jt===null||Cs(Jt,It,vn,!1)}function qf(e,n,s){var l=Bt;Bt|=2;var h=dy(),f=my();(Jt!==e||It!==n)&&(Fu=null,wa(e,n)),n=!1;var g=ue;t:do try{if(Qt!==0&&Rt!==null){var E=Rt,R=_n;switch(Qt){case 8:Bf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var P=Qt;if(Qt=0,_n=null,Ra(e,E,R,P),s&&Aa){g=0;break t}break;default:P=Qt,Qt=0,_n=null,Ra(e,E,R,P)}}m1(),g=ue;break}catch(G){hy(e,G)}while(!0);return n&&e.shellSuspendCounter++,xi=vr=null,Bt=l,F.H=h,F.A=f,Rt===null&&(Jt=null,It=0,du()),g}function m1(){for(;Rt!==null;)gy(Rt)}function g1(e,n){var s=Bt;Bt|=2;var l=dy(),h=my();Jt!==e||It!==n?(Fu=null,Gu=We()+500,wa(e,n)):Aa=Ln(e,n);t:do try{if(Qt!==0&&Rt!==null){n=Rt;var f=_n;e:switch(Qt){case 1:Qt=0,_n=null,Ra(e,n,f,1);break;case 2:case 9:if(wg(f)){Qt=0,_n=null,py(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==e||(Qt=7),yi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:wg(f)?(Qt=0,_n=null,py(n)):(Qt=0,_n=null,Ra(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?e_(g):E.stateNode.complete){Qt=0,_n=null;var R=E.sibling;if(R!==null)Rt=R;else{var P=E.return;P!==null?(Rt=P,Yu(P)):Rt=null}break e}}Qt=0,_n=null,Ra(e,n,f,5);break;case 6:Qt=0,_n=null,Ra(e,n,f,6);break;case 8:Bf(),ue=6;break t;default:throw Error(r(462))}}p1();break}catch(G){hy(e,G)}while(!0);return xi=vr=null,F.H=l,F.A=h,Bt=s,Rt!==null?0:(Jt=null,It=0,du(),ue)}function p1(){for(;Rt!==null&&!yh();)gy(Rt)}function gy(e){var n=zp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?Yu(e):Rt=n}function py(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Vp(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Vp(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:nf(n);default:Bp(s,n),n=Rt=mg(n,Gi),n=zp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?Yu(e):Rt=n}function Ra(e,n,s,l){xi=vr=null,nf(n),ga=null,xl=0;var h=n.return;try{if(s1(e,h,n,s,It)){ue=1,ku(e,In(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ue=1,ku(e,In(s,e.current)),Rt=null;return}n.flags&32768?(xt||l===1?e=!0:Aa||(It&536870912)!==0?e=!1:(Ss=e=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),yy(n,e)):Yu(n)}function Yu(e){var n=e;do{if((n.flags&32768)!==0){yy(n,Ss);return}e=n.return;var s=l1(n.alternate,n,Gi);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ue===0&&(ue=5)}function yy(e,n){do{var s=o1(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);ue=6,Rt=null}function _y(e,n,s,l,h,f,g,E,R){e.cancelPendingCommit=null;do Xu();while(Ne!==0);if((Bt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Nh,Eh(e,s,f,g,E,R),e===Jt&&(Rt=Jt=null,It=0),ba=n,Rs=e,Fi=s,Pf=f,zf=h,ly=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,E1(is,function(){return Sy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=et.p,et.p=2,g=Bt,Bt|=4;try{u1(e,n,s)}finally{Bt=g,et.p=h,F.T=l}}Ne=1,vy(),Ey(),Ty()}}function vy(){if(Ne===1){Ne=0;var e=Rs,n=ba,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=et.p;et.p=2;var h=Bt;Bt|=4;try{Wp(n,e);var f=td,g=rg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&sg(E.ownerDocument.documentElement,E)){if(R!==null&&bh(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),rt=E.textContent.length,dt=Math.min(R.start,rt),Zt=R.end===void 0?dt:Math.min(R.end,rt);!B.extend&&dt>Zt&&(g=Zt,Zt=dt,dt=g);var x=ig(E,dt),N=ig(E,Zt);if(x&&N&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),dt>Zt?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(Y=[],B=E;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}lc=!!Wf,td=Wf=null}finally{Bt=h,et.p=l,F.T=s}}e.current=n,Ne=2}}function Ey(){if(Ne===2){Ne=0;var e=Rs,n=ba,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=et.p;et.p=2;var h=Bt;Bt|=4;try{Yp(e,n.alternate,n)}finally{Bt=h,et.p=l,F.T=s}}Ne=3}}function Ty(){if(Ne===4||Ne===3){Ne=0,zo();var e=Rs,n=ba,s=Fi,l=ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,ba=Rs=null,Ay(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ws=null),Ii(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=et.p,et.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=h}}(Fi&3)!==0&&Xu(),yi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===jf?Zl++:(Zl=0,jf=e):Zl=0,Jl(0)}}function Ay(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ml(n)))}function Xu(){return vy(),Ey(),Ty(),Sy()}function Sy(){if(Ne!==5)return!1;var e=Rs,n=Pf;Pf=0;var s=Ii(Fi),l=F.T,h=et.p;try{et.p=32>s?32:s,F.T=null,s=zf,zf=null;var f=Rs,g=Fi;if(Ne=0,ba=Rs=null,Fi=0,(Bt&6)!==0)throw Error(r(331));var E=Bt;if(Bt|=4,sy(f.current),ey(f,f.current,g,s),Bt=E,Jl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Un,f)}catch{}return!0}finally{et.p=h,F.T=l,Ay(e,n)}}function by(e,n,s){n=In(s,n),n=_f(e.stateNode,n,2),e=vs(e,n,2),e!==null&&(nr(e,2),yi(e))}function Kt(e,n,s){if(e.tag===3)by(e,e,s);else for(;n!==null;){if(n.tag===3){by(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ws===null||!ws.has(l))){e=In(s,e),s=wp(2),l=vs(n,s,2),l!==null&&(Rp(s,l,n,e),nr(l,2),yi(l));break}}n=n.return}}function Hf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new f1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(kf=!0,h.add(s),e=y1.bind(null,e,n,s),n.then(e,e))}function y1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(It&s)===s&&(ue===4||ue===3&&(It&62914560)===It&&300>We()-Hu?(Bt&2)===0&&wa(e,0):Uf|=s,Sa===It&&(Sa=0)),yi(e)}function wy(e,n){n===0&&(n=Fo()),e=pr(e,n),e!==null&&(nr(e,n),yi(e))}function _1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),wy(e,s)}function v1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),wy(e,s)}function E1(e,n){return Ie(e,n)}var $u=null,Ca=null,Gf=!1,Zu=!1,Ff=!1,Is=0;function yi(e){e!==Ca&&e.next===null&&(Ca===null?$u=Ca=e:Ca=Ca.next=e),Zu=!0,Gf||(Gf=!0,A1())}function Jl(e,n){if(!Ff&&Zu){Ff=!0;do for(var s=!1,l=$u;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ny(l,f))}else f=It,f=Wn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(s=!0,Ny(l,f));l=l.next}while(s);Ff=!1}}function T1(){Ry()}function Ry(){Zu=Gf=!1;var e=0;Is!==0&&M1()&&(e=Is);for(var n=We(),s=null,l=$u;l!==null;){var h=l.next,f=Cy(l,n);f===0?(l.next=null,s===null?$u=h:s.next=h,h===null&&(Ca=s)):(s=l,(e!==0||(f&3)!==0)&&(Zu=!0)),l=h}Ne!==0&&Ne!==5||Jl(e),Is!==0&&(Is=0)}function Cy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&l)!==0)&&(h[g]=vh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=It,s=Wn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ns(l),Ii(s)){case 2:case 8:s=ol;break;case 32:s=is;break;case 268435456:s=jo;break;default:s=is}return l=Iy.bind(null,e),s=Ie(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ns(l),e.callbackPriority=2,e.callbackNode=null,2}function Iy(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Xu()&&e.callbackNode!==s)return null;var l=It;return l=Wn(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(uy(e,l,n),Cy(e,We()),e.callbackNode!=null&&e.callbackNode===s?Iy.bind(null,e):null)}function Ny(e,n){if(Xu())return null;uy(e,n,!0)}function A1(){x1(function(){(Bt&6)!==0?Ie(ll,T1):Ry()})}function Qf(){if(Is===0){var e=fa;e===0&&(e=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),Is=e}return Is}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zr(""+e)}function Oy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function S1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Dy((h[Me]||null).action),g=l.submitter;g&&(n=(n=g[Me]||null)?Dy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ci("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Is!==0){var R=g?Oy(h,g):new FormData(h);ff(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Oy(h,g):new FormData(h),ff(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Kf=0;Kf<Ih.length;Kf++){var Yf=Ih[Kf],b1=Yf.toLowerCase(),w1=Yf[0].toUpperCase()+Yf.slice(1);Fn(b1,"on"+w1)}Fn(og,"onAnimationEnd"),Fn(ug,"onAnimationIteration"),Fn(cg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(BT,"onTransitionRun"),Fn(qT,"onTransitionStart"),Fn(HT,"onTransitionCancel"),Fn(hg,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function My(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){fu(G)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){fu(G)}h.currentTarget=null,f=R}}}}function Ct(e,n){var s=n[Qr];s===void 0&&(s=n[Qr]=new Set);var l=e+"__bubble";s.has(l)||(Vy(n,e,2,!1),s.add(l))}function Xf(e,n,s){var l=0;n&&(l|=4),Vy(s,e,l,n)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[Ju]){e[Ju]=!0,hl.forEach(function(s){s!=="selectionchange"&&(R1.has(s)||Xf(s,!1,e),Xf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ju]||(n[Ju]=!0,Xf("selectionchange",!1,n))}}function Vy(e,n,s,l){switch(o_(n)){case 2:var h=tA;break;case 8:h=eA;break;default:h=hd}s=h.bind(null,n,s,e),h=void 0,!or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Zf(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ii(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}us(function(){var P=f,G=bn(s),Y=[];t:{var z=fg.get(e);if(z!==void 0){var B=ci,rt=e;switch(e){case"keypress":if(cr(s)===0)break t;case"keydown":case"keyup":B=uu;break;case"focusin":rt="focus",B=fr;break;case"focusout":rt="blur",B=fr;break;case"beforeblur":case"afterblur":B=fr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case og:case ug:case cg:B=nu;break;case hg:B=T;break;case"scroll":case"scrollend":B=Sl;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Oi;break;case"toggle":case"beforetoggle":B=Tt}var dt=(n&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),x=dt?z!==null?z+"Capture":null:z;dt=[];for(var N=P,L;N!==null;){var K=N;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||x===null||(K=Bn(N,x),K!=null&&dt.push(to(N,K,L))),Zt)break;N=N.return}0<dt.length&&(z=new B(z,rt,null,s,G),Y.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==El&&(rt=s.relatedTarget||s.fromElement)&&(ii(rt)||rt[ei]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(rt=s.relatedTarget||s.toElement,B=P,rt=rt?ii(rt):null,rt!==null&&(Zt=c(rt),dt=rt.tag,rt!==Zt||dt!==5&&dt!==27&&dt!==6)&&(rt=null)):(B=null,rt=P),B!==rt)){if(dt=bl,K="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Oi,K="onPointerLeave",x="onPointerEnter",N="pointer"),Zt=B==null?z:fn(B),L=rt==null?z:fn(rt),z=new dt(K,N+"leave",B,s,G),z.target=Zt,z.relatedTarget=L,K=null,ii(G)===P&&(dt=new dt(x,N+"enter",rt,s,G),dt.target=L,dt.relatedTarget=Zt,K=dt),Zt=K,B&&rt)e:{for(dt=C1,x=B,N=rt,L=0,K=x;K;K=dt(K))L++;K=0;for(var ut=N;ut;ut=dt(ut))K++;for(;0<L-K;)x=dt(x),L--;for(;0<K-L;)N=dt(N),K--;for(;L--;){if(x===N||N!==null&&x===N.alternate){dt=x;break e}x=dt(x),N=dt(N)}dt=null}else dt=null;B!==null&&xy(Y,z,B,dt,!1),rt!==null&&Zt!==null&&xy(Y,Zt,rt,dt,!0)}}t:{if(z=P?fn(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Pt=Zm;else if(Xm(z))if(Jm)Pt=PT;else{Pt=UT;var at=kT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&$r(P.elementType)&&(Pt=Zm):Pt=LT;if(Pt&&(Pt=Pt(e,P))){$m(Y,Pt,s,G);break t}at&&at(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&yl(z,"number",z.value)}switch(at=P?fn(P):window,e){case"focusin":(Xm(at)||at.contentEditable==="true")&&(sa=at,wh=P,Nl=null);break;case"focusout":Nl=wh=sa=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,ag(Y,s,G);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":ag(Y,s,G)}var bt;if(jt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ia?dr(e,s)&&(Nt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(di&&s.locale!=="ko"&&(ia||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ia&&(bt=Al()):(ui=G,Tl="value"in ui?ui.value:ui.textContent,ia=!0)),at=Wu(P,Nt),0<at.length&&(Nt=new fi(Nt,e,null,s,G),Y.push({event:Nt,listeners:at}),bt?Nt.data=bt:(bt=na(s),bt!==null&&(Nt.data=bt)))),(bt=Rn?OT(e,s):MT(e,s))&&(Nt=Wu(P,"onBeforeInput"),0<Nt.length&&(at=new fi("onBeforeInput","beforeinput",null,s,G),Y.push({event:at,listeners:Nt}),at.data=bt)),S1(Y,e,P,s,G)}My(Y,n)})}function to(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Wu(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(e,s),h!=null&&l.unshift(to(e,h,f)),h=Bn(e,n),h!=null&&l.push(to(e,h,f))),e.tag===3)return l;e=e.return}return[]}function C1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xy(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Bn(s,f),P!=null&&g.unshift(to(s,P,R))):h||(P=Bn(s,f),P!=null&&g.push(to(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var I1=/\r\n?/g,N1=/\u0000|\uFFFD/g;function ky(e){return(typeof e=="string"?e:""+e).replace(I1,`
`).replace(N1,"")}function Uy(e,n){return n=ky(n),ky(e)===n}function $t(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(e,""+l);break;case"className":dn(e,"class",l);break;case"tabIndex":dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,l);break;case"style":vl(e,l,f);break;case"data":if(n!=="object"){dn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Zr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Zr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=jn);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Zr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Yr(e,"popover",l);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Wo.get(s)||s,Yr(e,s,l))}}function Jf(e,n,s,l,h,f){switch(s){case"style":vl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?sn(e,l):(typeof l=="number"||typeof l=="bigint")&&sn(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Me]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Yr(e,s,l)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(e,n,f,g,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),l&&$t(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,R=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:$t(e,n,l,G,s,null)}}$o(e,f,E,R,P,g,h,!1);return;case"select":Ct("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:$t(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?rs(e,!!l,n,!1):s!=null&&rs(e,!!l,s,!0);return;case"textarea":Ct("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:$t(e,n,g,E,s,null)}as(e,l,h,f);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(e,n,R,l,s,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<Wl.length;l++)Ct(Wl[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(e,n,P,l,s,null)}return;default:if($r(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&Jf(e,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&$t(e,n,E,l,s,null))}function D1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,G=null;for(B in s){var Y=s[B];if(s.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(B)||$t(e,n,B,null,l,Y)}}for(var z in l){var B=l[z];if(Y=s[z],l.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":G=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==Y&&$t(e,n,z,B,l,Y)}}Xr(e,g,E,R,P,G,f,h);return;case"select":B=g=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(f)||$t(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&$t(e,n,h,f,l,R)}n=E,s=g,l=B,z!=null?rs(e,!!s,z,!1):!!l!=!!s&&(n!=null?rs(e,!!s,n,!0):rs(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&$t(e,n,g,h,l,f)}Zo(e,z,B);return;case"option":for(var rt in s)if(z=s[rt],s.hasOwnProperty(rt)&&z!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:$t(e,n,rt,null,l,z)}for(R in l)if(z=l[R],B=s[R],l.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:$t(e,n,R,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)z=s[dt],s.hasOwnProperty(dt)&&z!=null&&!l.hasOwnProperty(dt)&&$t(e,n,dt,null,l,z);for(P in l)if(z=l[P],B=s[P],l.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:$t(e,n,P,z,l,B)}return;default:if($r(n)){for(var Zt in s)z=s[Zt],s.hasOwnProperty(Zt)&&z!==void 0&&!l.hasOwnProperty(Zt)&&Jf(e,n,Zt,void 0,l,z);for(G in l)z=l[G],B=s[G],!l.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||Jf(e,n,G,z,l,B);return}}for(var x in s)z=s[x],s.hasOwnProperty(x)&&z!=null&&!l.hasOwnProperty(x)&&$t(e,n,x,null,l,z);for(Y in l)z=l[Y],B=s[Y],!l.hasOwnProperty(Y)||z===B||z==null&&B==null||$t(e,n,Y,z,l,B)}function Ly(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function O1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Ly(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],P=R.startTime;if(P>E)break;var G=R.transferSize,Y=R.initiatorType;G&&Ly(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-P)/(R-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wf=null,td=null;function tc(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nd=null;function M1(){var e=window.event;return e&&e.type==="popstate"?e===nd?!1:(nd=e,!0):(nd=null,!1)}var jy=typeof setTimeout=="function"?setTimeout:void 0,V1=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(e){return By.resolve(null).then(e).catch(k1)}:jy;function k1(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function qy(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Oa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")eo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,eo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&eo(e.ownerDocument.body);s=h}while(s);Oa(n)}function Hy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function id(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":id(s),Kr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function U1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ni])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function L1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function Gy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function sd(e){return e.data==="$?"||e.data==="$~"}function rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function P1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ad=null;function Fy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Qy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Ky(e,n,s){switch(n=tc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function eo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Kr(e)}var xn=new Map,Yy=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=et.d;et.d={f:z1,r:j1,D:B1,C:q1,L:H1,m:G1,X:Q1,S:F1,M:K1};function z1(){var e=Qi.f(),n=Qu();return e||n}function j1(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?hp(n):Qi.r(e)}var Ia=typeof document>"u"?null:document;function Xy(e,n,s){var l=Ia;if(l&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Yy.has(h)||(Yy.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",e),_e(n),l.head.appendChild(n)))}}function B1(e){Qi.D(e),Xy("dns-prefetch",e,null)}function q1(e,n){Qi.C(e,n),Xy("preconnect",e,n)}function H1(e,n,s){Qi.L(e,n,s);var l=Ia;if(l&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Na(e);break;case"script":f=Da(e)}xn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),xn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(no(f))||n==="script"&&l.querySelector(io(f))||(n=l.createElement("link"),Ge(n,"link",e),_e(n),l.head.appendChild(n)))}}function G1(e,n){Qi.m(e,n);var s=Ia;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Da(e)}if(!xn.has(f)&&(e=S({rel:"modulepreload",href:e},n),xn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(io(f)))return}l=s.createElement("link"),Ge(l,"link",e),_e(l),s.head.appendChild(l)}}}function F1(e,n,s){Qi.S(e,n,s);var l=Ia;if(l&&e){var h=si(l).hoistableStyles,f=Na(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(no(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=xn.get(f))&&ld(e,s);var R=g=l.createElement("link");_e(R),Ge(R,"link",e),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,nc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Q1(e,n){Qi.X(e,n);var s=Ia;if(s&&e){var l=si(s).hoistableScripts,h=Da(e),f=l.get(h);f||(f=s.querySelector(io(h)),f||(e=S({src:e,async:!0},n),(n=xn.get(h))&&od(e,n),f=s.createElement("script"),_e(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function K1(e,n){Qi.M(e,n);var s=Ia;if(s&&e){var l=si(s).hoistableScripts,h=Da(e),f=l.get(h);f||(f=s.querySelector(io(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=xn.get(h))&&od(e,n),f=s.createElement("script"),_e(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function $y(e,n,s,l){var h=(h=St.current)?ec(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Na(s.href),s=si(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Na(s.href);var f=si(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(no(e)))&&!f._p&&(g.instance=f,g.state.loading=5),xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(e,s),f||Y1(h,e,s,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Da(s),s=si(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Na(e){return'href="'+nn(e)+'"'}function no(e){return'link[rel="stylesheet"]['+e+"]"}function Zy(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Y1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",s),_e(n),e.head.appendChild(n))}function Da(e){return'[src="'+nn(e)+'"]'}function io(e){return"script[async]"+e}function Jy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(l)return n.instance=l,_e(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),_e(l),Ge(l,"style",h),nc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Na(s.href);var f=e.querySelector(no(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=Zy(s),(h=xn.get(h))&&ld(l,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ge(f,"link",l),n.state.loading|=4,nc(f,s.precedence,e),n.instance=f;case"script":return f=Da(s.src),(h=e.querySelector(io(f)))?(n.instance=h,_e(h),h):(l=s,(h=xn.get(f))&&(l=S({},s),od(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),Ge(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,nc(l,s.precedence,e));return n.instance}function nc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ic=null;function Wy(e,n,s){if(ic===null){var l=new Map,h=ic=new Map;h.set(s,l)}else h=ic,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ni]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function t_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function X1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function e_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $1(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Na(l.href),f=n.querySelector(no(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=sc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,l=Zy(l),(h=xn.get(h))&&ld(l,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ge(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=sc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ud=0;function Z1(e,n){return e.stylesheets&&e.count===0&&ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ud===0&&(ud=62500*O1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ac(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ud?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rc=null;function ac(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rc=new Map,n.forEach(J1,e),rc=null,sc.call(e))}function J1(e,n){if(!(n.state.loading&4)){var s=rc.get(e);if(s)var l=s.get(null);else{s=new Map,rc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var so={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function W1(e,n,s,l,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function n_(e,n,s,l,h,f,g,E,R,P,G,Y){return e=new W1(e,n,s,g,R,P,G,Y,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Bh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Fh(f),e}function i_(e){return e?(e=la,e):la}function s_(e,n,s,l,h,f){h=i_(h),l.context===null?l.context=h:l.pendingContext=h,l=_s(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=vs(e,l,n),s!==null&&(un(s,e,n),Ul(s,e,n))}function r_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function cd(e,n){r_(e,n),(e=e.alternate)&&r_(e,n)}function a_(e){if(e.tag===13||e.tag===31){var n=pr(e,67108864);n!==null&&un(n,e,67108864),cd(e,67108864)}}function l_(e){if(e.tag===13||e.tag===31){var n=En();n=sr(n);var s=pr(e,n);s!==null&&un(s,e,n),cd(e,n)}}var lc=!0;function tA(e,n,s,l){var h=F.T;F.T=null;var f=et.p;try{et.p=2,hd(e,n,s,l)}finally{et.p=f,F.T=h}}function eA(e,n,s,l){var h=F.T;F.T=null;var f=et.p;try{et.p=8,hd(e,n,s,l)}finally{et.p=f,F.T=h}}function hd(e,n,s,l){if(lc){var h=fd(l);if(h===null)Zf(e,n,l,oc,s),u_(e,l);else if(iA(h,e,n,s,l))l.stopPropagation();else if(u_(e,l),n&4&&-1<nA.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Jn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}yi(f),(Bt&6)===0&&(Gu=We()+500,Jl(0))}}break;case 31:case 13:E=pr(f,2),E!==null&&un(E,f,2),Qu(),cd(f,2)}if(f=fd(l),f===null&&Zf(e,n,l,oc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Zf(e,n,l,null,s)}}function fd(e){return e=bn(e),dd(e)}var oc=null;function dd(e){if(oc=null,e=ii(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return oc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tr()){case ll:return 2;case ol:return 8;case is:case _h:return 32;case jo:return 268435456;default:return 32}default:return 32}}var md=!1,Ds=null,Os=null,Ms=null,ro=new Map,ao=new Map,Vs=[],nA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(e,n){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(n.pointerId)}}function lo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&a_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function iA(e,n,s,l,h){switch(n){case"focusin":return Ds=lo(Ds,e,n,s,l,h),!0;case"dragenter":return Os=lo(Os,e,n,s,l,h),!0;case"mouseover":return Ms=lo(Ms,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return ro.set(f,lo(ro.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ao.set(f,lo(ao.get(f)||null,e,n,s,l,h)),!0}return!1}function c_(e){var n=ii(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){l_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Pn(e.priority,function(){l_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=fd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);El=l,s.target.dispatchEvent(l),El=null}else return n=Sn(s),n!==null&&a_(n),e.blockedOn=s,!1;n.shift()}return!0}function h_(e,n,s){uc(e)&&s.delete(n)}function sA(){md=!1,Ds!==null&&uc(Ds)&&(Ds=null),Os!==null&&uc(Os)&&(Os=null),Ms!==null&&uc(Ms)&&(Ms=null),ro.forEach(h_),ao.forEach(h_)}function cc(e,n){e.blockedOn===n&&(e.blockedOn=null,md||(md=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sA)))}var hc=null;function f_(e){hc!==e&&(hc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hc===e&&(hc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(dd(l||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,ff(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Oa(e){function n(R){return cc(R,e)}Ds!==null&&cc(Ds,e),Os!==null&&cc(Os,e),Ms!==null&&cc(Ms,e),ro.forEach(n),ao.forEach(n);for(var s=0;s<Vs.length;s++){var l=Vs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)c_(s),s.blockedOn===null&&Vs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Me]||null;if(typeof f=="function")g||f_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(dd(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),f_(s)}}}function d_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function gd(e){this._internalRoot=e}fc.prototype.render=gd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=En();s_(s,l,e,n,null,null)},fc.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;s_(e.current,2,null,e,null,null),Qu(),n[ei]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Vs.length&&n!==0&&n<Vs[s].priority;s++);Vs.splice(s,0,e),s===0&&c_(e)}};var m_=t.version;if(m_!=="19.2.0")throw Error(r(527,m_,"19.2.0"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var rA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Un=dc.inject(rA),ze=dc}catch{}}return uo.createRoot=function(e,n){if(!o(e))throw Error(r(299));var s=!1,l="",h=Tp,f=Ap,g=Sp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=n_(e,1,!1,null,null,s,l,null,h,f,g,d_),e[ei]=n.current,$f(e),new gd(n)},uo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(r(299));var l=!1,h="",f=Tp,g=Ap,E=Sp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=n_(e,1,!0,n,s??null,l,h,R,f,g,E,d_),n.context=i_(null),s=n.current,l=En(),l=sr(l),h=_s(l),h.callback=null,vs(s,h,l),s=l,n.current.lanes=s,nr(n,s),yi(n),e[ei]=n.current,$f(e),new fc(n)},uo.version="19.2.0",uo}var b_;function pA(){if(b_)return _d.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),_d.exports=gA(),_d.exports}var yA=pA();const _A=sv(yA);const vA=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EA=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),w_=a=>{const t=EA(a);return t.charAt(0).toUpperCase()+t.slice(1)},rv=(...a)=>a.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),TA=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var AA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const SA=Ue.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...p},_)=>Ue.createElement("svg",{ref:_,...AA,width:t,height:t,stroke:a,strokeWidth:r?Number(i)*24/Number(t):i,className:rv("lucide",o),...!c&&!TA(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Ue.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Pe=(a,t)=>{const i=Ue.forwardRef(({className:r,...o},c)=>Ue.createElement(SA,{ref:c,iconNode:t,className:rv(`lucide-${vA(w_(a))}`,`lucide-${a}`,r),...o}));return i.displayName=w_(a),i};const bA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],av=Pe("arrow-left",bA);const wA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],RA=Pe("chevron-right",wA);const CA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],IA=Pe("chevron-left",CA);const NA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lv=Pe("circle-check-big",NA);const DA=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],ov=Pe("coffee",DA);const OA=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],MA=Pe("droplets",OA);const VA=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],xA=Pe("footprints",VA);const kA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UA=Pe("log-out",kA);const LA=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],PA=Pe("moon",LA);const zA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jA=Pe("plus",zA);const BA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],qA=Pe("rotate-ccw",BA);const HA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GA=Pe("settings",HA);const FA=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],QA=Pe("share",FA);const KA=[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]],YA=Pe("sofa",KA);const XA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],uv=Pe("sparkles",XA);const $A=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ZA=Pe("sun",$A);const JA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],WA=Pe("trash-2",JA);const tS=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],eS=Pe("utensils",tS),nS=()=>{};var R_={};const cv=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},iS=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],p=a[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},hv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,p=d?a[o+1]:0,_=o+2<a.length,y=_?a[o+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,q=y&63;_||(q=64,d||(M=64)),r.push(i[A],i[S],i[M],i[q])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(cv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):iS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],p=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||p==null||y==null||S==null)throw new sS;const M=c<<2|p>>4;if(r.push(M),y!==64){const q=p<<4&240|y>>2;if(r.push(q),S!==64){const H=y<<6&192|S;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class sS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rS=function(a){const t=cv(a);return hv.encodeByteArray(t,!0)},Dc=function(a){return rS(a).replace(/\./g,"")},fv=function(a){try{return hv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lS=()=>aS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof R_>"u")return;const a=R_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},uS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&fv(a[1]);return t&&JSON.parse(t)},Zc=()=>{try{return nS()||lS()||oS()||uS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},dv=a=>Zc()?.emulatorHosts?.[a],cS=a=>{const t=dv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},mv=()=>Zc()?.config,gv=a=>Zc()?.[`_${a}`];class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function Za(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pv(a){return(await fetch(a,{credentials:"include"})).ok}function fS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Dc(JSON.stringify(i)),Dc(JSON.stringify(d)),""].join(".")}const go={};function dS(){const a={prod:[],emulator:[]};for(const t of Object.keys(go))go[t]?a.emulator.push(t):a.prod.push(t);return a}function mS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let C_=!1;function yv(a,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||go[a]===t||go[a]||C_)return;go[a]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=dS().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{C_=!0,d()},M}function A(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=mS(r),q=i("text"),H=document.getElementById(q)||document.createElement("span"),Z=i("learnmore"),W=document.getElementById(Z)||document.createElement("a"),lt=i("preprendIcon"),mt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ft=M.element;p(ft),A(W,Z);const qt=y();_(mt,lt),ft.append(mt,H,W,qt),document.body.appendChild(ft)}c?(H.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function pS(){const a=Zc()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){const a=Je();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function TS(){return!pS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const bS="FirebaseError";class es extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=bS,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}}class Do{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?wS(c,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new es(o,p,r)}}function wS(a,t){return a.replace(RS,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const RS=/\{\$([^}]+)}/g;function CS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function xr(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const c=a[o],d=t[o];if(I_(c)&&I_(d)){if(!xr(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function I_(a){return a!==null&&typeof a=="object"}function Oo(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function IS(a,t){const i=new NS(a,t);return i.subscribe.bind(i)}class NS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");DS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=Ad),o.error===void 0&&(o.error=Ad),o.complete===void 0&&(o.complete=Ad);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Ad(){}function hn(a){return a&&a._delegate?a._delegate:a}class kr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Nr="[DEFAULT]";class OS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new hS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VS(t))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=Nr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Nr){return this.instances.has(t)}getOptions(t=Nr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Nr){return this.component?this.component.multipleInstances?t:Nr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MS(a){return a===Nr?void 0:a}function VS(a){return a.instantiationMode==="EAGER"}class xS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Dt||(Dt={}));const kS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},US=Dt.INFO,LS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},PS=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),o=LS[t];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class am{constructor(t){this.name=t,this._logLevel=US,this._logHandler=PS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const zS=(a,t)=>t.some(i=>a instanceof i);let N_,D_;function jS(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BS(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _v=new WeakMap,xd=new WeakMap,vv=new WeakMap,Sd=new WeakMap,lm=new WeakMap;function qS(a){const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Bs(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&_v.set(i,a)}).catch(()=>{}),lm.set(t,a),t}function HS(a){if(xd.has(a))return;const t=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});xd.set(a,t)}let kd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return xd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||vv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Bs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function GS(a){kd=a(kd)}function FS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(bd(this),t,...i);return vv.set(r,t.sort?t.sort():[t]),Bs(r)}:BS().includes(a)?function(...t){return a.apply(bd(this),t),Bs(_v.get(this))}:function(...t){return Bs(a.apply(bd(this),t))}}function QS(a){return typeof a=="function"?FS(a):(a instanceof IDBTransaction&&HS(a),zS(a,jS())?new Proxy(a,kd):a)}function Bs(a){if(a instanceof IDBRequest)return qS(a);if(Sd.has(a))return Sd.get(a);const t=QS(a);return t!==a&&(Sd.set(a,t),lm.set(t,a)),t}const bd=a=>lm.get(a);function KS(a,t,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(a,t),p=Bs(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Bs(d.result),_.oldVersion,_.newVersion,Bs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const YS=["get","getKey","getAll","getAllKeys","count"],XS=["put","add","delete","clear"],wd=new Map;function O_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(wd.get(t))return wd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=XS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||YS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&_.done]))[0]};return wd.set(t,c),c}GS(a=>({...a,get:(t,i,r)=>O_(t,i)||a.get(t,i,r),has:(t,i)=>!!O_(t,i)||a.has(t,i)}));class $S{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function ZS(a){return a.getComponent()?.type==="VERSION"}const Ud="@firebase/app",M_="0.14.6";const $i=new am("@firebase/app"),JS="@firebase/app-compat",WS="@firebase/analytics-compat",tb="@firebase/analytics",eb="@firebase/app-check-compat",nb="@firebase/app-check",ib="@firebase/auth",sb="@firebase/auth-compat",rb="@firebase/database",ab="@firebase/data-connect",lb="@firebase/database-compat",ob="@firebase/functions",ub="@firebase/functions-compat",cb="@firebase/installations",hb="@firebase/installations-compat",fb="@firebase/messaging",db="@firebase/messaging-compat",mb="@firebase/performance",gb="@firebase/performance-compat",pb="@firebase/remote-config",yb="@firebase/remote-config-compat",_b="@firebase/storage",vb="@firebase/storage-compat",Eb="@firebase/firestore",Tb="@firebase/ai",Ab="@firebase/firestore-compat",Sb="firebase",bb="12.6.0";const Ld="[DEFAULT]",wb={[Ud]:"fire-core",[JS]:"fire-core-compat",[tb]:"fire-analytics",[WS]:"fire-analytics-compat",[nb]:"fire-app-check",[eb]:"fire-app-check-compat",[ib]:"fire-auth",[sb]:"fire-auth-compat",[rb]:"fire-rtdb",[ab]:"fire-data-connect",[lb]:"fire-rtdb-compat",[ob]:"fire-fn",[ub]:"fire-fn-compat",[cb]:"fire-iid",[hb]:"fire-iid-compat",[fb]:"fire-fcm",[db]:"fire-fcm-compat",[mb]:"fire-perf",[gb]:"fire-perf-compat",[pb]:"fire-rc",[yb]:"fire-rc-compat",[_b]:"fire-gcs",[vb]:"fire-gcs-compat",[Eb]:"fire-fst",[Ab]:"fire-fst-compat",[Tb]:"fire-vertex","fire-js":"fire-js",[Sb]:"fire-js-all"};const Oc=new Map,Rb=new Map,Pd=new Map;function V_(a,t){try{a.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ha(a){const t=a.name;if(Pd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,a);for(const i of Oc.values())V_(i,a);for(const i of Rb.values())V_(i,a);return!0}function om(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function vi(a){return a==null?!1:a.settings!==void 0}const Cb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Do("app","Firebase",Cb);class Ib{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const Ja=bb;function Ev(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Ld,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw qs.create("bad-app-name",{appName:String(o)});if(i||(i=mv()),!i)throw qs.create("no-options");const c=Oc.get(o);if(c){if(xr(i,c.options)&&xr(r,c.config))return c;throw qs.create("duplicate-app",{appName:o})}const d=new xS(o);for(const _ of Pd.values())d.addComponent(_);const p=new Ib(i,r,d);return Oc.set(o,p),p}function Tv(a=Ld){const t=Oc.get(a);if(!t&&a===Ld&&mv())return Ev();if(!t)throw qs.create("no-app",{appName:a});return t}function Hs(a,t,i){let r=wb[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Ha(new kr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Nb="firebase-heartbeat-database",Db=1,To="firebase-heartbeat-store";let Rd=null;function Av(){return Rd||(Rd=KS(Nb,Db,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(To)}catch(i){console.warn(i)}}}}).catch(a=>{throw qs.create("idb-open",{originalErrorMessage:a.message})})),Rd}async function Ob(a){try{const i=(await Av()).transaction(To),r=await i.objectStore(To).get(Sv(a));return await i.done,r}catch(t){if(t instanceof es)$i.warn(t.message);else{const i=qs.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function x_(a,t){try{const r=(await Av()).transaction(To,"readwrite");await r.objectStore(To).put(t,Sv(a)),await r.done}catch(i){if(i instanceof es)$i.warn(i.message);else{const r=qs.create("idb-set",{originalErrorMessage:i?.message});$i.warn(r.message)}}}function Sv(a){return`${a.name}!${a.options.appId}`}const Mb=1024,Vb=30;class xb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ub(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=k_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Vb){const o=Lb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=k_(),{heartbeatsToSend:i,unsentEntries:r}=kb(this._heartbeatsCache.heartbeats),o=Dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $i.warn(t),""}}}function k_(){return new Date().toISOString().substring(0,10)}function kb(a,t=Mb){const i=[];let r=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),U_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),U_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Ub{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ob(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return x_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return x_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function U_(a){return Dc(JSON.stringify({version:2,heartbeats:a})).length}function Lb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function Pb(a){Ha(new kr("platform-logger",t=>new $S(t),"PRIVATE")),Ha(new kr("heartbeat",t=>new xb(t),"PRIVATE")),Hs(Ud,M_,a),Hs(Ud,M_,"esm2020"),Hs("fire-js","")}Pb("");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,bv;(function(){var a;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,D,k){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return b.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,C){C||(C=0);const V=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)V[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],w;w=b+(k^C&(D^k))+V[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+V[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+V[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+V[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+V[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+V[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+V[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+V[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+V[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+V[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+V[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+V[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+V[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+V[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+V[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+V[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(D^k&(C^D))+V[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+V[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+V[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+V[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+V[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+V[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+V[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+V[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+V[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+V[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+V[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+V[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+V[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+V[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+V[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+V[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(C^D^k)+V[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+V[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+V[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+V[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+V[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+V[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+V[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+V[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+V[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+V[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+V[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+V[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+V[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+V[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+V[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+V[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(D^(C|~k))+V[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+V[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+V[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+V[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+V[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+V[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+V[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+V[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+V[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+V[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+V[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+V[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+V[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+V[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+V[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=C;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<b;)if(V[D++]=I.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<b;)if(V[D++]=I[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[b++]=this.g[C]>>>V&255;return I};function c(I,b){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let V=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;V&&k==b||(C[D]=k,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return W(y(-I));const b=[];let C=1;for(let V=0;I>=C;V++)b[V]=I/C|0,C*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return W(A(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let V=S;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+D),b);D<8?(D=y(Math.pow(b,D)),V=V.j(D).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var S=_(0),M=_(1),q=_(16777216);a=d.prototype,a.m=function(){if(Z(this))return-W(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*b,b*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(H(this))return"0";if(Z(this))return"-"+W(this).toString(I);const b=y(Math.pow(I,6));var C=this;let V="";for(;;){const D=qt(C,b).g;C=lt(C,D.j(b));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,H(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function H(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function Z(I){return I.h==-1}a.l=function(I){return I=lt(this,I),Z(I)?-1:H(I)?0:1};function W(I){const b=I.g.length,C=[];for(let V=0;V<b;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}a.abs=function(){return Z(this)?W(this):this},a.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let D=0;D<=b;D++){let k=V+(this.i(D)&65535)+(I.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=w>>>16,k&=65535,w&=65535,C[D]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function lt(I,b){return I.add(W(b))}a.j=function(I){if(H(this)||H(I))return S;if(Z(this))return Z(I)?W(this).j(W(I)):W(W(this).j(I));if(Z(I))return W(this.j(W(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var V=0;V<2*b;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const k=this.i(V)>>>16,w=this.i(V)&65535,ne=I.i(D)>>>16,Re=I.i(D)&65535;C[2*V+2*D]+=w*Re,mt(C,2*V+2*D),C[2*V+2*D+1]+=k*Re,mt(C,2*V+2*D+1),C[2*V+2*D+1]+=w*ne,mt(C,2*V+2*D+1),C[2*V+2*D+2]+=k*ne,mt(C,2*V+2*D+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function mt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ft(I,b){this.g=I,this.h=b}function qt(I,b){if(H(b))throw Error("division by zero");if(H(I))return new ft(S,S);if(Z(I))return b=qt(W(I),b),new ft(W(b.g),W(b.h));if(Z(b))return b=qt(I,W(b)),new ft(W(b.g),b.h);if(I.g.length>30){if(Z(I)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=b;V.l(I)<=0;)C=Vt(C),V=Vt(V);var D=wt(C,1),k=wt(V,1);for(V=wt(V,2),C=wt(C,2);!H(V);){var w=k.add(V);w.l(I)<=0&&(D=D.add(C),k=w),V=wt(V,1),C=wt(C,1)}return b=lt(I,D.j(b)),new ft(D,b)}for(D=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(C),w=k.j(b);Z(w)||w.l(I)>0;)C-=V,k=y(C),w=k.j(b);H(k)&&(k=M),D=D.add(k),I=lt(I,w)}return new ft(D,I)}a.B=function(I){return qt(this,I).h},a.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},a.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},a.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function Vt(I){const b=I.g.length+1,C=[];for(let V=0;V<b;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function wt(I,b){const C=b>>5;b%=32;const V=I.g.length-C,D=[];for(let k=0;k<V;k++)D[k]=b>0?I.i(k+C)>>>b|I.i(k+C+1)<<32-b:I.i(k+C);return new d(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,bv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Gs=d}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var wv,co,Rv,Ec,zd,Cv,Iv,Nv;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,j){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[U].apply(T,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function H(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const j=U.length||0;u.length=v+j;for(let tt=0;tt<j;tt++)u[v+tt]=U[tt]}else u.push(U)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,v){const T=ft.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new Z(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Vt,wt=!1,I=new mt,b=()=>{const u=Promise.resolve(void 0);Vt=()=>{u.then(C)}};function C(){for(var u;u=lt();){try{u.h.call(u.g)}catch(v){W(v)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ne,D),ne.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let j=0;j<X.length;j++)v=X[j],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,U){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const tt=St(u,m,T,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,j,!!T,U),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(T,U,1),j&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let U=0;U<u.length;++U){const j=u[U];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(u,m,v,T,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)ie(u,m[j],v,T,U);return null}return v=al(v),u&&u[Re]?u.J(m,v,p(T)?!!T.capture:!1,U):Js(u,m,v,!1,T,U)}function Js(u,m,v,T,U,j){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let Tt=Ws(u);if(Tt||(u[kt]=Tt=new st(u)),v=Tt.add(m,v,T,tt,j),v.proxy)return v;if(T=qr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qr(){function u(v){return m.call(u.src,u.listener,v)}const m=sl;return u}function Hr(u,m,v,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Hr(u,m[j],v,T,U);else T=p(T)?!!T.capture:!!T,v=al(v),u&&u[Re]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=St(m,v,T,U),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=Ws(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,U)),(v=u>-1?m[u]:null)&&Gr(v))}function Gr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent($n(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Ws(m))?(yt(v,u),v.h==0&&(v.src=null,m[kt]=null)):ct(u)}}}function $n(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function sl(u,m){if(u.da)u=!0;else{m=new ne(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Gr(u),u=v.call(T,m)}return u}function Ws(u){return u=u[kt],u instanceof st?u:null}var rl="__closure_events_fn_"+(Math.random()*1e9>>>0);function al(u){return typeof u=="function"?u:(u[rl]||(u[rl]=function(m){return u.handleEvent(m)}),u[rl])}function ge(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(ge,V),ge.prototype[Re]=!0,ge.prototype.removeEventListener=function(u,m,v,T){Hr(this,u,m,v,T)};function Ie(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),nt(m,U)}U=!0;let j,tt;if(v)for(tt=v.length-1;tt>=0;tt--)j=m.g=v[tt],U=ns(j,T,!0,m)&&U;if(j=m.g=u,U=ns(j,T,!0,m)&&U,U=ns(j,T,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)j=m.g=v[tt],U=ns(j,T,!1,m)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ge.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ns(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const tt=m[j];if(tt&&!tt.da&&tt.capture==v){const Tt=tt.listener,he=tt.ha||tt.src;tt.fa&&yt(u.i,tt),U=Tt.call(he,T)!==!1&&U}}return U&&!T.defaultPrevented}function yh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function zo(u){u.g=yh(()=>{u.g=null,u.i&&(u.i=!1,zo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(u){V.call(this),this.h=u,this.g={}}S(tr,V);var ll=[];function ol(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Gr(m)},u),u.g={}}tr.prototype.N=function(){tr.Z.N.call(this),ol(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,_h=d.JSON.parse,jo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Bo(){}function qo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}S(ze,D);function An(){D.call(this,"c")}S(An,D);var ce={},Ho=null;function Fr(){return Ho=Ho||new ge}ce.Ia="serverreachability";function Go(u){D.call(this,ce.Ia,u)}S(Go,D);function Zn(u){const m=Fr();Ie(m,new Go(m))}ce.STAT_EVENT="statevent";function er(u,m){D.call(this,ce.STAT_EVENT,u),this.stat=m}S(er,D);function pe(u){const m=Fr();Ie(m,new er(m,u))}ce.Ja="timingevent";function Jn(u,m){D.call(this,ce.Ja,u),this.size=m}S(Jn,D);function Wn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function vh(u,m,v,T,U,j){u.info(function(){if(u.g)if(j){var tt="",Tt=j.split("&");for(let jt=0;jt<Tt.length;jt++){var he=Tt[jt].split("=");if(he.length>1){const se=he[0];he=he[1];const Rn=se.split("_");tt=Rn.length>=2&&Rn[1]=="type"?tt+(se+"="+he+"&"):tt+(se+"=redacted&")}}}else tt=null;else tt=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function Fo(u,m,v,T,U,j,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+j+" "+tt})}function ti(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Eh(u,v)+(T?" "+T:"")})}function nr(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Eh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return is(j)}catch{return m}}var ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cl;function sr(){}S(sr,Bo),sr.prototype.g=function(){return new XMLHttpRequest},cl=new sr;function Ii(u){return encodeURIComponent(String(u))}function Qo(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Pn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var ye={},Me={};function ei(u,m,v){u.M=1,u.A=rr(ve(m)),u.u=v,u.R=!0,Qr(u,null)}function Qr(u,m){u.F=Date.now(),ni(u),u.B=ve(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$r(v.i,"t",T),u.C=0,v=u.j.L,u.h=new zn,u.g=lu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(ll[0]=U.toString()),U=ll);for(let j=0;j<U.length;j++){const tt=ie(v,U[j],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Zn(),vh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=qn(this.g),he=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||Tt!=4||he==7||(he==8||jt<=0?Zn(3):Zn(2)),ii(this);var m=this.g.ca();this.X=m;var v=Th(this);if(this.o=m==200,Fo(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var j=T;break e}}j=null}if(u=j)ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,pe(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<v.length;)if(se=Yo(this,v),se==Me){Tt==4&&(this.m=4,pe(14),u=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),ti(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ti(this.i,this.l,se,null),si(this,se);if(Ko(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ti(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),wl(tt),tt.P=!0,pe(11))}}else ti(this.i,this.l,v,null),si(this,v);Tt==4&&fn(this),this.o&&!this.K&&(Tt==4?iu(this.j,this):(this.o=!1,ni(this)))}else Di(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),fn(this),Sn(this)}}}catch{}finally{}};function Th(u){if(!Ko(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const T=m.length,U=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(U&&j==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Ko(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Yo(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Me:(v=Number(m.substring(v,T)),isNaN(v)?ye:(T+=1,T+v>m.length?Me:(m=m.slice(T,T+v),u.C=T+v,m)))}Pn.prototype.cancel=function(){this.K=!0,fn(this)};function ni(u){u.T=Date.now()+u.H,Kr(u,u.H)}function Kr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Wn(y(u.aa,u),m)}function ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(nr(this.i,this.B),this.M!=2&&(Zn(),pe(17)),fn(this),this.m=2,Sn(this)):Kr(this,this.T-u)};function Sn(u){u.j.I==0||u.K||iu(u.j,u)}function fn(u){ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ol(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ai(v.h,u))){if(!u.L&&ai(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ea(v),hs(v);else break t;fr(v),pe(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Wn(y(v.Va,v),6e3));ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else fi(v,11)}else if((u.L||v.g==u)&&ea(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let jt=U[m];const se=jt[0];if(!(se<=v.K))if(v.K=se,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const Rn=jt[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const di=jt[4];di!=null&&(v.za=di,v.j.info("SVER="+v.za));const Hn=jt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const dr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var j=T.h;j.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(dl(j,j.h),j.h=null))}if(T.G){const na=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;na&&(T.wa=na,Ft(T.J,T.G,na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=au(T,T.L?T.ba:null,T.W),tt.L){ml(T.h,tt);var Tt=tt,he=T.O;he&&(Tt.H=he),Tt.D&&(ii(Tt),ni(Tt)),T.g=tt}else eu(T);v.i.length>0&&hi(v)}else jt[0]!="stop"&&jt[0]!="close"||fi(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?fi(v,7):Sl(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}Zn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function hl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function dl(u,m){u.g?u.g.add(m):u.h=m}function ml(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}hl.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function gl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,j=null;T>=0?(U=u[v].substring(0,T),j=u[v].substring(T+1)):U=u[v],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,pl(this,Wo(u.i)),this.m=u.m):u&&(m=String(u).match(Xo))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ss(this,m[4]),this.h=li(m[5]||"",!0),pl(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new as(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ar(m,Xr,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ar(m,Xr,!0),"@"),u.push(Ii(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ar(v,v.charAt(0)=="/"?yl:$o,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ar(v,Zo)),u.join("")},dn.prototype.resolve=function(u){const m=ve(this);let v=!!u.j;v?Ve(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ss(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let tt=0;tt<U.length;){const Tt=U[tt++];Tt=="."?T&&tt==U.length&&j.push(""):Tt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&tt==U.length&&j.push("")):(j.push(Tt),T=!0)}T=j.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?pl(m,Wo(u.i)):v=!!u.m,v&&(m.m=u.m),m};function ve(u){return new dn(u)}function Ve(u,m,v){u.j=v?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function pl(u,m,v){m instanceof as?(u.i=m,Zr(u.i,u.l)):(v||(m=ar(m,rs)),u.i=new as(m,u.l))}function Ft(u,m,v){u.i.set(m,v)}function rr(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ar(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xr=/[#\/\?@]/g,$o=/[#\?:]/g,yl=/[#\?]/g,rs=/[#\?@]/g,Zo=/#/g;function as(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Yr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=as.prototype,a.add=function(u,m){sn(this),this.i=null,u=ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Jo(u,m){sn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _l(u,m){return sn(u),m=ls(u,m),u.g.has(m)}a.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function vl(u,m){sn(u);let v=[];if(typeof m=="string")_l(u,m)&&(v=v.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return sn(this),this.i=null,u=ls(this,u),_l(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=vl(this,u),u.length>0?String(u[0]):m):m};function $r(u,m,v){Jo(u,m),v.length>0&&(u.i=null,u.g.set(ls(u,m),q(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Ii(v);v=vl(this,v);for(let j=0;j<v.length;j++){let tt=U;v[j]!==""&&(tt+="="+Ii(v[j])),u.push(tt)}}return this.i=u.join("&")};function Wo(u){const m=new as;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zr(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(Jo(this,T),$r(this,U,v))},u)),u.j=m}function jn(u,m){const v=new Ln;if(d.Image){const T=new Image;T.onload=A(bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(bn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function El(u,m){const v=new Ln,T=new AbortController,U=setTimeout(()=>{T.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function os(){this.g=new jo}function oi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(oi,Bo),oi.prototype.g=function(){return new lr(this.i,this.h)};function lr(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(lr,ge),a=lr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):Bn(this),this.readyState==3&&Jr(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},a.Na=function(u){this.g&&(this.response=u,us(this))},a.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function or(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=wn(v),typeof u=="string"?v!=null&&Ii(v):Ft(u,m,v))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,ge);var ui=/^https?$/i,Tl=["POST","PUT"];a=Yt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){ur(this,j);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Tl,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of v)this.g.setRequestHeader(j,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){ur(this,j)}};function ur(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Al(u),Ni(u)}function Al(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ni(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Yt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?cr(this):this.Xa())},a.Xa=function(){cr(this)};function cr(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),qn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let tt=String(u.D).match(Xo)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!ui.test(tt?tt.toLowerCase():"")}v=T}if(v)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var U=qn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Al(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ie(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_h(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=Qo(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[U]||[];m[U]=j,j.push(v)}Gt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,u),this.Za=ci("retryDelaySeedMs",1e4,u),this.Ta=ci("forwardChannelMaxRetries",2,u),this.va=ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new hl(u&&u.concurrentRequestLimit),this.Ba=new os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=cs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){pe(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=au(this,null,this.W),hi(this)};function Sl(u){if(Wr(u),u.I==3){var m=u.V++,v=ve(u.J);if(Ft(v,"SID",u.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),hr(u,v),m=new Pn(u,u.j,m),m.M=2,m.A=rr(ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=lu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ni(m)}ru(u)}function hs(u){u.g&&(wl(u),u.g.cancel(),u.g=null)}function Wr(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ea(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function hi(u){if(!fl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Vt||b(),wt||(Vt(),wt=!0),I.add(m,u),u.D=0}}function ta(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Wn(y(u.Ea,u,m),su(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Pn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=O(j),nt(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=tu(this,U,m),v=ve(this.J),Ft(v,"RID",u),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),hr(this,v),j&&(this.R?m="headers="+Ii(wn(j))+"&"+m:this.u&&or(v,this.u,j)),dl(this.h,U),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),U.U=!0,ei(U,v,null)):ei(U,v,m),this.I=2}}else this.I==3&&(u?bl(this,u):this.i.length==0||fl(this.h)||bl(this))};function bl(u,m){var v;m?v=m.l:v=u.V++;const T=ve(u.J);Ft(T,"SID",u.M),Ft(T,"RID",v),Ft(T,"AID",u.K),hr(u,T),u.u&&u.o&&or(T,u.u,u.o),v=new Pn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),dl(u.h,v),ei(v,T,m)}function hr(u,m){u.H&&Lt(u.H,function(v,T){Ft(m,T,v)}),u.l&&Lt({},function(v,T){Ft(m,T,v)})}function tu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let Tt=-1;for(;;){const he=["count="+v];Tt==-1?v>0?(Tt=U[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let jt=!0;for(let se=0;se<v;se++){var j=U[se].g;const Rn=U[se].map;if(j-=Tt,j<0)Tt=Math.max(0,U[se].g-100),jt=!1;else try{j="req"+j+"_"||"";try{var tt=Rn instanceof Map?Rn:Object.entries(Rn);for(const[di,Hn]of tt){let Gn=Hn;p(Hn)&&(Gn=is(Hn)),he.push(j+di+"="+encodeURIComponent(Gn))}}catch(di){throw he.push(j+"type="+encodeURIComponent("_badmap")),di}}catch{T&&T(Rn)}}if(jt){tt=he.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function eu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Vt||b(),wt||(Vt(),wt=!0),I.add(m,u),u.A=0}}function fr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Wn(y(u.Da,u),su(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Wn(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),hs(this),nu(this))};function wl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function nu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),hr(u,m),u.u&&u.o&&or(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=rr(ve(m)),v.u=null,v.R=!0,Qr(v,u)}a.Va=function(){this.C!=null&&(this.C=null,hs(this),fr(this),pe(19))};function ea(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function iu(u,m){var v=null;if(u.g==m){ea(u),wl(u),u.g=null;var T=2}else if(ai(u.h,m))v=m.G,ml(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Fr(),Ie(T,new Jn(T,v)),hi(u)}else eu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ta(u,m)||T==2&&fr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:fi(u,5);break;case 4:fi(u,10);break;case 3:fi(u,6);break;default:fi(u,2)}}}function su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function fi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(T,"https"),rr(T),U?jn(T.toString(),v):El(T.toString(),v)}else pe(2);u.I=0,u.l&&u.l.pa(m),ru(u),Wr(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function ru(u){if(u.I=0,u.ja=[],u.l){const m=gl(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function au(u,m,v){var T=v instanceof dn?ve(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ss(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new dn(null);T&&Ve(j,T),m&&(j.g=m),U&&ss(j,U),v&&(j.h=v),T=j}return v=u.G,m=u.wa,v&&m&&Ft(T,v,m),Ft(T,"VER",u.ka),hr(u,T),T}function lu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new oi({ab:v})):new Yt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}a=ou.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ge.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}S(tn,ge),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Sl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=is(u),u=v);m.i.push(new _e(m.Ya++,u)),m.I==3&&hi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,tn.Z.N.call(this)};function uu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(uu,ze);function cu(){An.call(this),this.status=1}S(cu,An);function Oi(u){this.g=u}S(Oi,ou),Oi.prototype.ra=function(){Ie(this.g,"a")},Oi.prototype.qa=function(u){Ie(this.g,new uu(u))},Oi.prototype.pa=function(u){Ie(this.g,new cu)},Oi.prototype.oa=function(){Ie(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Nv=function(){return new fs},Iv=function(){return Fr()},Cv=ce,zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,Ec=ir,ul.COMPLETE="complete",Rv=ul,qo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ge.prototype.listen=ge.prototype.J,co=qo,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,wv=Yt}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore",z_="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let Wa="12.3.0";const Ur=new am("@firebase/firestore");function Ma(){return Ur.logLevel}function it(a,...t){if(Ur.logLevel<=Dt.DEBUG){const i=t.map(um);Ur.debug(`Firestore (${Wa}): ${a}`,...i)}}function Zi(a,...t){if(Ur.logLevel<=Dt.ERROR){const i=t.map(um);Ur.error(`Firestore (${Wa}): ${a}`,...i)}}function Ga(a,...t){if(Ur.logLevel<=Dt.WARN){const i=t.map(um);Ur.warn(`Firestore (${Wa}): ${a}`,...i)}}function um(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function gt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,Dv(a,r,i)}function Dv(a,t,i){let r=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Zi(r),new Error(r)}function Ht(a,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||Dv(t,o,r)}function Et(a,t){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Ov{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class jb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Bb{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let r=this.i;const o=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Or,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Or)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new Ov(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class qb{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Hb{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new qb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const r=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const o=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new j_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=Fb(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<i&&(r+=t.charAt(o[c]%62))}return r}}function Ot(a,t){return a<t?-1:a>t?1:0}function jd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const o=a.charAt(r),c=t.charAt(r);if(o!==c)return Cd(o)===Cd(c)?Ot(o,c):Cd(o)?1:-1}return Ot(a.length,t.length)}const Qb=55296,Kb=57343;function Cd(a){const t=a.charCodeAt(0);return t>=Qb&&t<=Kb}function Fa(a,t,i){return a.length===t.length&&a.every(((r,o)=>i(r,t[o])))}const B_="__name__";class _i{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&gt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return _i.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof _i?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const c=_i.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const r=_i.isNumericId(t),o=_i.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?_i.extractNumericId(t).compare(_i.extractNumericId(i)):jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gs.fromString(t.substring(4,t.length-2))}}class ae extends _i{construct(t,i,r){return new ae(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const Yb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends _i{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return Yb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B_}static keyField(){return new Qe([B_])}static fromServerFormat(t){const i=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ae.fromString(t))}static fromName(t){return new ht(ae.fromString(t).popFirst(5))}static empty(){return new ht(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ae(t.slice()))}}function Xb(a,t,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function $b(a,t,i,r){if(t===!0&&r===!0)throw new ot(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function q_(a){if(!ht.isDocumentKey(a))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Mv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function hm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":gt(12329,{type:typeof a})}function La(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hm(a);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function we(a,t){const i={typeString:a};return t&&(i.value=t),i}function Mo(a,t){if(!Mv(a))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}const H_=-62135596800,G_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*G_);return new ee(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<H_)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G_}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Mo(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-H_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:we("string",ee._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ee(0,0))}static max(){return new _t(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ao=-1;function Zb(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(r===1e9?new ee(i+1,0):new ee(i,r));return new Fs(o,ht.empty(),t)}function Jb(a){return new Fs(a.readTime,a.key,Ao)}class Fs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Fs(_t.min(),ht.empty(),Ao)}static max(){return new Fs(_t.max(),ht.empty(),Ao)}}function Wb(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(a.documentKey,t.documentKey),i!==0?i:Ot(a.largestBatchId,t.largestBatchId))}const t2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tl(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==t2)throw a;it("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>r(_)))})),d=!0,c===o&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((o=>o?$.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,c)=>{r.push(i.call(this,o,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,o)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&r(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new $(((r,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):r()};c()}))}}function n2(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function el(a){return a.name==="IndexedDbTransactionError"}class Jc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Jc.ce=-1;const fm=-1;function Wc(a){return a==null}function Mc(a){return a===0&&1/a==-1/0}function i2(a){return typeof a=="number"&&Number.isInteger(a)&&!Mc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const Vv="";function s2(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=F_(t)),t=r2(a.get(i),t);return F_(t)}function r2(a,t){let i=t;const r=a.length;for(let o=0;o<r;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case Vv:i+="";break;default:i+=c}}return i}function F_(a){return a+Vv+""}function Q_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Zs(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function xv(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gc(this.root,t,this.comparator,!0)}}class gc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,r,o,c){this.key=t,this.value=i,this.color=r??Fe.RED,this.left=o??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,c){return new Fe(t??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,r),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,r,o,c){return this}insert(t,i,r){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(t){return new K_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class K_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new Oe(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class kv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kv("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const a2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(a){if(Ht(!!a,39018),typeof a=="string"){let t=0;const i=a2.exec(a);if(Ht(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ks(a){return typeof a=="string"?Ke.fromBase64String(a):Ke.fromUint8Array(a)}const Uv="server_timestamp",Lv="__type__",Pv="__previous_value__",zv="__local_write_time__";function dm(a){return(a?.mapValue?.fields||{})[Lv]?.stringValue===Uv}function th(a){const t=a.mapValue.fields[Pv];return dm(t)?th(t):t}function So(a){const t=Qs(a.mapValue.fields[zv].timestampValue);return new ee(t.seconds,t.nanos)}class l2{constructor(t,i,r,o,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Vc="(default)";class bo{constructor(t,i){this.projectId=t,this.database=i||Vc}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database===Vc}isEqual(t){return t instanceof bo&&t.projectId===this.projectId&&t.database===this.database}}const jv="__type__",o2="__max__",pc={mapValue:{}},Bv="__vector__",xc="value";function Ys(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?dm(a)?4:c2(a)?9007199254740991:u2(a)?10:11:gt(28295,{value:a})}function Ri(a,t){if(a===t)return!0;const i=Ys(a);if(i!==Ys(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return So(a).isEqual(So(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Qs(o.timestampValue),p=Qs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,c){return Ks(o.bytesValue).isEqual(Ks(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,c){return me(o.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(a,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return me(o.integerValue)===me(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=me(o.doubleValue),p=me(c.doubleValue);return d===p?Mc(d)===Mc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Fa(a.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Q_(d)!==Q_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ri(d[_],p[_])))return!1;return!0})(a,t);default:return gt(52216,{left:a})}}function wo(a,t){return(a.values||[]).find((i=>Ri(i,t)))!==void 0}function Qa(a,t){if(a===t)return 0;const i=Ys(a),r=Ys(t);if(i!==r)return Ot(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),_=me(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return Y_(a.timestampValue,t.timestampValue);case 4:return Y_(So(a),So(t));case 5:return jd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ks(c),_=Ks(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Ot(p[y],_[y]);if(A!==0)return A}return Ot(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(me(c.latitude),me(d.latitude));return p!==0?p:Ot(me(c.longitude),me(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return X_(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[xc]?.arrayValue,A=_[xc]?.arrayValue,S=Ot(y?.values?.length||0,A?.values?.length||0);return S!==0?S:X_(y,A)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===pc.mapValue&&d===pc.mapValue)return 0;if(c===pc.mapValue)return 1;if(d===pc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const M=jd(_[S],A[S]);if(M!==0)return M;const q=Qa(p[_[S]],y[A[S]]);if(q!==0)return q}return Ot(_.length,A.length)})(a.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Y_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Ot(a,t);const i=Qs(a),r=Qs(t),o=Ot(i.seconds,r.seconds);return o!==0?o:Ot(i.nanos,r.nanos)}function X_(a,t){const i=a.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const c=Qa(i[o],r[o]);if(c)return c}return Ot(i.length,r.length)}function Ka(a){return Bd(a)}function Bd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Qs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ks(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ht.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=Bd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Bd(i.fields[d])}`;return o+"}"})(a.mapValue):gt(61005,{value:a})}function Tc(a){switch(Ys(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=th(a);return t?16+Tc(t):16;case 5:return 2*a.stringValue.length;case 6:return Ks(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Tc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Zs(r.fields,((c,d)=>{o+=c.length+Tc(d)})),o})(a.mapValue);default:throw gt(13486,{value:a})}}function qd(a){return!!a&&"integerValue"in a}function mm(a){return!!a&&"arrayValue"in a}function $_(a){return!!a&&"nullValue"in a}function Z_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Ac(a){return!!a&&"mapValue"in a}function u2(a){return(a?.mapValue?.fields||{})[jv]?.stringValue===Bv}function po(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Zs(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=po(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=po(a.arrayValue.values[i]);return t}return{...a}}function c2(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===o2}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Ac(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=po(i)}setAll(t){let i=Qe.emptyPath(),r={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=po(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,o)}delete(t){const i=this.field(t.popLast());Ac(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Zs(i,((o,c)=>t[o]=c));for(const o of r)delete t[o]}clone(){return new Tn(po(this.value))}}function qv(a){const t=[];return Zs(a.fields,((i,r)=>{const o=new Qe([i]);if(Ac(r)){const c=qv(r.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Yn(t)}class Ze{constructor(t,i,r,o,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),Tn.empty(),0)}static newFoundDocument(t,i,r,o){return new Ze(t,1,i,_t.min(),r,o,0)}static newNoDocument(t,i){return new Ze(t,2,i,_t.min(),_t.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,_t.min(),_t.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kc{constructor(t,i){this.position=t,this.inclusive=i}}function J_(a,t,i){let r=0;for(let o=0;o<a.position.length;o++){const c=t[o],d=a.position[o];if(c.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),i.key):r=Qa(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function W_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],t.position[i]))return!1;return!0}class Uc{constructor(t,i="asc"){this.field=t,this.dir=i}}function h2(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class Hv{}class De extends Hv{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new d2(t,i,r):i==="array-contains"?new p2(t,r):i==="in"?new y2(t,r):i==="not-in"?new _2(t,r):i==="array-contains-any"?new v2(t,r):new De(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new m2(t,r):new g2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qa(i,this.value)):i!==null&&Ys(this.value)===Ys(i)&&this.matchesComparison(Qa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends Hv{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return Gv(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gv(a){return a.op==="and"}function Fv(a){return f2(a)&&Gv(a)}function f2(a){for(const t of a.filters)if(t instanceof Ci)return!1;return!0}function Hd(a){if(a instanceof De)return a.field.canonicalString()+a.op.toString()+Ka(a.value);if(Fv(a))return a.filters.map((t=>Hd(t))).join(",");{const t=a.filters.map((i=>Hd(i))).join(",");return`${a.op}(${t})`}}function Qv(a,t){return a instanceof De?(function(r,o){return o instanceof De&&r.op===o.op&&r.field.isEqual(o.field)&&Ri(r.value,o.value)})(a,t):a instanceof Ci?(function(r,o){return o instanceof Ci&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,p)=>c&&Qv(d,o.filters[p])),!0):!1})(a,t):void gt(19439)}function Kv(a){return a instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ka(i.value)}`})(a):a instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(Kv).join(" ,")+"}"})(a):"Filter"}class d2 extends De{constructor(t,i,r){super(t,i,r),this.key=ht.fromName(r.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class m2 extends De{constructor(t,i){super(t,"in",i),this.keys=Yv("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class g2 extends De{constructor(t,i){super(t,"not-in",i),this.keys=Yv("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Yv(a,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class p2 extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return mm(i)&&wo(i.arrayValue,this.value)}}class y2 extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&wo(this.value.arrayValue,i)}}class _2 extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wo(this.value.arrayValue,i)}}class v2 extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!mm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>wo(this.value.arrayValue,r)))}}class E2{constructor(t,i=null,r=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function t0(a,t=null,i=[],r=[],o=null,c=null,d=null){return new E2(a,t,i,r,o,c,d)}function gm(a){const t=Et(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Hd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Wc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ka(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ka(r))).join(",")),t.Te=i}return t.Te}function pm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!h2(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Qv(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!W_(a.startAt,t.startAt)&&W_(a.endAt,t.endAt)}function Gd(a){return ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class eh{constructor(t,i=null,r=[],o=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function T2(a,t,i,r,o,c,d,p){return new eh(a,t,i,r,o,c,d,p)}function ym(a){return new eh(a)}function e0(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function A2(a){return a.collectionGroup!==null}function yo(a){const t=Et(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Uc(c,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Uc(Qe.keyField(),r))}return t.Ie}function Ei(a){const t=Et(a);return t.Ee||(t.Ee=S2(t,yo(a))),t.Ee}function S2(a,t){if(a.limitType==="F")return t0(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Uc(o.field,c)}));const i=a.endAt?new kc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new kc(a.startAt.position,a.startAt.inclusive):null;return t0(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function Fd(a,t,i){return new eh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function nh(a,t){return pm(Ei(a),Ei(t))&&a.limitType===t.limitType}function Xv(a){return`${gm(Ei(a))}|lt:${a.limitType}`}function Va(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Kv(o))).join(", ")}]`),Wc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Ka(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Ka(o))).join(",")),`Target(${r})`})(Ei(a))}; limitType=${a.limitType})`}function ih(a,t){return t.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ht.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,o){for(const c of yo(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(a,t)&&(function(r,o){return!(r.startAt&&!(function(d,p,_){const y=J_(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,yo(r),o)||r.endAt&&!(function(d,p,_){const y=J_(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,yo(r),o))})(a,t)}function b2(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function $v(a){return(t,i)=>{let r=!1;for(const o of yo(a)){const c=w2(o,t,i);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function w2(a,t,i){const r=a.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Qa(_,y):gt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:a.dir})}}class zr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Zs(this.inner,((i,r)=>{for(const[o,c]of r)t(o,c)}))}isEmpty(){return xv(this.inner)}size(){return this.innerSize}}const R2=new le(ht.comparator);function Ji(){return R2}const Zv=new le(ht.comparator);function ho(...a){let t=Zv;for(const i of a)t=t.insert(i.key,i);return t}function Jv(a){let t=Zv;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Dr(){return _o()}function Wv(){return _o()}function _o(){return new zr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const C2=new le(ht.comparator),I2=new Oe(ht.comparator);function Mt(...a){let t=I2;for(const i of a)t=t.add(i);return t}const N2=new Oe(Ot);function D2(){return N2}function _m(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function tE(a){return{integerValue:""+a}}function O2(a,t){return i2(t)?tE(t):_m(a,t)}class sh{constructor(){this._=void 0}}function M2(a,t,i){return a instanceof Lc?(function(o,c){const d={fields:{[Lv]:{stringValue:Uv},[zv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&dm(c)&&(c=th(c)),c&&(d.fields[Pv]=c),{mapValue:d}})(i,t):a instanceof Ro?nE(a,t):a instanceof Co?iE(a,t):(function(o,c){const d=eE(o,c),p=n0(d)+n0(o.Ae);return qd(d)&&qd(o.Ae)?tE(p):_m(o.serializer,p)})(a,t)}function V2(a,t,i){return a instanceof Ro?nE(a,t):a instanceof Co?iE(a,t):i}function eE(a,t){return a instanceof Pc?(function(r){return qd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Lc extends sh{}class Ro extends sh{constructor(t){super(),this.elements=t}}function nE(a,t){const i=sE(t);for(const r of a.elements)i.some((o=>Ri(o,r)))||i.push(r);return{arrayValue:{values:i}}}class Co extends sh{constructor(t){super(),this.elements=t}}function iE(a,t){let i=sE(t);for(const r of a.elements)i=i.filter((o=>!Ri(o,r)));return{arrayValue:{values:i}}}class Pc extends sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function n0(a){return me(a.integerValue||a.doubleValue)}function sE(a){return mm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function x2(a,t){return a.field.isEqual(t.field)&&(function(r,o){return r instanceof Ro&&o instanceof Ro||r instanceof Co&&o instanceof Co?Fa(r.elements,o.elements,Ri):r instanceof Pc&&o instanceof Pc?Ri(r.Ae,o.Ae):r instanceof Lc&&o instanceof Lc})(a.transform,t.transform)}class k2{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class rh{}function rE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new lE(a.key,Xi.none()):new ah(a.key,a.data,Xi.none());{const i=a.data,r=Tn.empty();let o=new Oe(Qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new jr(a.key,r,new Yn(o.toArray()),Xi.none())}}function U2(a,t,i){a instanceof ah?(function(o,c,d){const p=o.value.clone(),_=s0(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof jr?(function(o,c,d){if(!Sc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=s0(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(aE(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function vo(a,t,i,r){return a instanceof ah?(function(c,d,p,_){if(!Sc(c.precondition,d))return p;const y=c.value.clone(),A=r0(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,r):a instanceof jr?(function(c,d,p,_){if(!Sc(c.precondition,d))return p;const y=r0(c.fieldTransforms,_,d),A=d.data;return A.setAll(aE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(a,t,i,r):(function(c,d,p){return Sc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function L2(a,t){let i=null;for(const r of a.fieldTransforms){const o=t.data.field(r.field),c=eE(r.transform,o||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(r.field,c))}return i||null}function i0(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Fa(r,o,((c,d)=>x2(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class ah extends rh{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class jr extends rh{constructor(t,i,r,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function s0(a,t,i){const r=new Map;Ht(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,p=t.data.field(c.field);r.set(c.field,V2(d,p,i[o]))}return r}function r0(a,t,i){const r=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);r.set(o.field,M2(c,d,t))}return r}class lE extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P2 extends rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class z2{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&U2(c,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=vo(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=vo(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=Wv();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=rE(d,p);_!==null&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Fa(this.mutations,t.mutations,((i,r)=>i0(i,r)))&&Fa(this.baseMutations,t.baseMutations,((i,r)=>i0(i,r)))}}class vm{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Ht(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return C2})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new vm(t,i,r,o)}}class j2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class B2{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Ut;function q2(a){switch(a){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:a})}}function oE(a){if(a===void 0)return Zi("GRPC error has no .code"),J.UNKNOWN;switch(a){case be.OK:return J.OK;case be.CANCELLED:return J.CANCELLED;case be.UNKNOWN:return J.UNKNOWN;case be.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case be.INTERNAL:return J.INTERNAL;case be.UNAVAILABLE:return J.UNAVAILABLE;case be.UNAUTHENTICATED:return J.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case be.NOT_FOUND:return J.NOT_FOUND;case be.ALREADY_EXISTS:return J.ALREADY_EXISTS;case be.PERMISSION_DENIED:return J.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case be.ABORTED:return J.ABORTED;case be.OUT_OF_RANGE:return J.OUT_OF_RANGE;case be.UNIMPLEMENTED:return J.UNIMPLEMENTED;case be.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:a})}}(Ut=be||(be={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function H2(){return new TextEncoder}const G2=new Gs([4294967295,4294967295],0);function a0(a){const t=H2().encode(a),i=new bv;return i.update(t),new Uint8Array(i.digest())}function l0(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gs([i,r],0),new Gs([o,c],0)]}class Em{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new fo(`Invalid padding: ${i}`);if(r<0)throw new fo(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new fo(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new fo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gs.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(Gs.fromNumber(r)));return o.compare(G2)===1&&(o=new Gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=a0(t),[r,o]=l0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Em(c,o,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=a0(t),[r,o]=l0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class fo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lh{constructor(t,i,r,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Vo.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new lh(_t.min(),o,new le(Ot),Ji(),Mt())}}class Vo{constructor(t,i,r,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Vo(r,i,Mt(),Mt(),Mt())}}class bc{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class uE{constructor(t,i){this.targetId=t,this.Ce=i}}class cE{constructor(t,i,r=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class o0{constructor(){this.ve=0,this.Fe=u0(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),r=Mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:gt(38017,{changeType:c})}})),new Vo(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=u0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class F2{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ji(),this.Je=yc(),this.He=yc(),this.Ye=new le(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Gd(c))if(r===0){const d=new ht(c.path);this.et(i,d,Ze.newNoDocument(d,_t.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Ks(r).toUint8Array()}catch(_){if(_ instanceof kv)return Ga("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Em(d,o,c)}catch(_){return Ga(_ instanceof fo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Gd(p.target)){const _=new ht(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Mt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new lh(t,i,this.Ye,this.je,r);return this.je=Ji(),this.Je=yc(),this.He=yc(),this.Ye=new le(Ot),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new o0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new o0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function yc(){return new le(ht.comparator)}function u0(){return new le(ht.comparator)}const Q2={asc:"ASCENDING",desc:"DESCENDING"},K2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y2={and:"AND",or:"OR"};class X2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Qd(a,t){return a.useProto3Json||Wc(t)?t:{value:t}}function zc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function $2(a,t){return zc(a,t.toTimestamp())}function Ti(a){return Ht(!!a,49232),_t.fromTimestamp((function(i){const r=Qs(i);return new ee(r.seconds,r.nanos)})(a))}function Tm(a,t){return Kd(a,t).canonicalString()}function Kd(a,t){const i=(function(o){return new ae(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function fE(a){const t=ae.fromString(a);return Ht(yE(t),10190,{key:t.toString()}),t}function Yd(a,t){return Tm(a.databaseId,t.path)}function Id(a,t){const i=fE(t);if(i.get(1)!==a.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ht(mE(i))}function dE(a,t){return Tm(a.databaseId,t)}function Z2(a){const t=fE(a);return t.length===4?ae.emptyPath():mE(t)}function Xd(a){return new ae(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function mE(a){return Ht(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function c0(a,t,i){return{name:Yd(a,t),fields:i.value.mapValue.fields}}function J2(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:oE(y.code);return new ot(A,y.message||"")})(d);i=new cE(r,o,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Id(a,r.document.name),c=Ti(r.document.updateTime),d=r.document.createTime?Ti(r.document.createTime):_t.min(),p=new Tn({mapValue:{fields:r.document.fields}}),_=Ze.newFoundDocument(o,c,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new bc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Id(a,r.document),c=r.readTime?Ti(r.readTime):_t.min(),d=Ze.newNoDocument(o,c),p=r.removedTargetIds||[];i=new bc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Id(a,r.document),c=r.removedTargetIds||[];i=new bc([],c,o,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new B2(o,c),p=r.targetId;i=new uE(p,d)}}return i}function W2(a,t){let i;if(t instanceof ah)i={update:c0(a,t.key,t.value)};else if(t instanceof lE)i={delete:Yd(a,t.key)};else if(t instanceof jr)i={update:c0(a,t.key,t.data),updateMask:ow(t.fieldMask)};else{if(!(t instanceof P2))return gt(16599,{Vt:t.type});i={verify:Yd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Co)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Pc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:$2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(a,t.precondition)),i}function tw(a,t){return a&&a.length>0?(Ht(t!==void 0,14353),a.map((i=>(function(o,c){let d=o.updateTime?Ti(o.updateTime):Ti(c);return d.isEqual(_t.min())&&(d=Ti(c)),new k2(d,o.transformResults||[])})(i,t)))):[]}function ew(a,t){return{documents:[dE(a,t.path)]}}function nw(a,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=dE(a,o);const c=(function(y){if(y.length!==0)return pE(Ci.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:xa(M.field),direction:rw(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Qd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function iw(a){let t=Z2(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ht(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=gE(S);return M instanceof Ci&&Fv(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(H){return new Uc(ka(H.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,Wc(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,q=S.values||[];return new kc(q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,q=S.values||[];return new kc(q,M)})(i.endAt)),T2(t,o,d,c,p,"F",_,y)}function sw(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ka(i.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ka(i.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ka(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ka(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return De.create(ka(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((r=>gE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(a):gt(30097,{filter:a})}function rw(a){return Q2[a]}function aw(a){return K2[a]}function lw(a){return Y2[a]}function xa(a){return{fieldPath:a.canonicalString()}}function ka(a){return Qe.fromServerFormat(a.fieldPath)}function pE(a){return a instanceof De?(function(i){if(i.op==="=="){if(Z_(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NAN"}};if($_(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z_(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NAN"}};if($_(i.value))return{unaryFilter:{field:xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(i.field),op:aw(i.op),value:i.value}}})(a):a instanceof Ci?(function(i){const r=i.getFilters().map((o=>pE(o)));return r.length===1?r[0]:{compositeFilter:{op:lw(i.op),filters:r}}})(a):gt(54877,{filter:a})}function ow(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function yE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class js{constructor(t,i,r,o,c=_t.min(),d=_t.min(),p=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class uw{constructor(t){this.yt=t}}function cw(a){const t=iw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Fd(t,t.limit,"L"):t}class hw{constructor(){this.Cn=new fw}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Fs.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Fs.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class fw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Oe(ae.comparator),c=!o.has(r);return this.index[i]=o.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Oe(ae.comparator)).toArray()}}const h0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(_E,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Ya{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ya(0)}static cr(){return new Ya(-1)}}const f0="LruGarbageCollector",dw=1048576;function d0([a,t],[i,r]){const o=Ot(a,i);return o===0?Ot(t,r):o}class mw{constructor(t){this.Ir=t,this.buffer=new Oe(d0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();d0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(f0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){el(i)?it(f0,"Ignoring IndexedDB error during garbage collection: ",i):await tl(i)}await this.Vr(3e5)}))}}class pw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Jc.ce);const r=new mw(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(h0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),Ma()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function yw(a,t){return new pw(a,t)}class _w{constructor(){this.changes=new zr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class vw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Ew{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&vo(r.mutation,o,Yn.empty(),ee.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Mt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Mt()){const o=Dr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((c=>{let d=ho();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Dr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Mt())))}populateOverlays(t,i,r){const o=[];return r.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,o){let c=Ji();const d=_o(),p=(function(){return _o()})();return i.forEach(((_,y)=>{const A=r.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof jr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),vo(A.mutation,y,A.mutation.getFieldMask(),ee.now())):d.set(y.key,Yn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new vw(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=_o();let o=new le(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Yn.empty();A=p.applyToLocalView(y,A),r.set(_,A);const S=(o.get(p.batchId)||Mt()).add(_);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=Wv();A.forEach((M=>{if(!c.has(M)){const q=rE(i.get(M),r.get(M));q!==null&&S.set(M,q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):A2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-c.size):$.resolve(Dr());let p=Ao,_=c;return d.next((y=>$.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{_=_.insert(A,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Mt()))).next((A=>({batchId:p,changes:Jv(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((r=>{let o=ho();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const c=i.collectionGroup;let d=ho();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const y=(function(S,M){return new eh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,o)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=ho();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&vo(A.mutation,y,Yn.empty(),ee.now()),ih(i,y)&&(p=p.insert(_,y))})),p}))}}class Tw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:cw(o.bundledQuery),readTime:Ti(o.readTime)}})(i)),$.resolve()}}class Aw{constructor(){this.overlays=new le(ht.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Dr();return $.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const o=Dr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let c=new le(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=Dr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Dr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=o)););return $.resolve(p)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new j2(i,r));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class Sw{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Am{constructor(){this.Qr=new Oe(ke.$r),this.Ur=new Oe(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new ke(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new ke(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ht(new ae([])),r=new ke(i,t),o=new ke(i,t+1),c=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new ae([])),r=new ke(i,t),o=new ke(i,t+1);let c=Mt();return this.Ur.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ke(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class ke{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class bw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(ke.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new z2(c,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new ke(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?fm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new ke(i,0),o=new ke(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Oe(Ot);return i.forEach((o=>{const c=new ke(o,0),d=new ke(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let c=r;ht.isDocumentKey(c)||(c=c.child(""));const d=new ke(new ht(c),0);let p=new Oe(Ot);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(o=>{const c=new ke(o.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new ke(i,0),o=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ww{constructor(t){this.ri=t,this.docs=(function(){return new le(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=Ji();return i.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Ze.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let c=Ji();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Wb(Jb(A),r)<=0||(o.has(A.key)||ih(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,o){gt(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new Rw(this)}getSize(t){return $.resolve(this.size)}}class Rw extends _w{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class Cw{constructor(t){this.persistence=t,this.si=new zr((i=>gm(i)),pm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Am,this.targetCount=0,this.ai=Ya.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ya(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class vE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Jc(0),this.li=!1,this.li=!0,this.hi=new Sw,this.referenceDelegate=t(this),this.Pi=new Cw(this),this.indexManager=new hw,this.remoteDocumentCache=(function(o){return new ww(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new uw(i),this.Ii=new Tw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Aw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new bw(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const o=new Iw(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class Iw extends e2{constructor(t){super(),this.currentSequenceNumber=t}}class Sm{constructor(t){this.persistence=t,this.Ri=new Am,this.Vi=null}static mi(t){return new Sm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const o=ht.fromPath(r);return this.gi(t,o).next((c=>{c||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class jc{constructor(t,i){this.persistence=t,this.pi=new zr((r=>s2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=yw(this,i)}static mi(t,i){return new jc(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,o)=>this.br(t,r,o).next((c=>c?$.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Tc(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class bm{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new bm(t,i.fromCache,r,o)}}class Nw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Dw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TS()?8:n2(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Nw;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(Ma()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Va(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ma()<=Dt.DEBUG&&it("QueryEngine","Query:",Va(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Ma()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Va(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ei(i))):$.resolve())}ys(t,i){if(e0(i))return $.resolve(null);let r=Ei(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Fd(i,null,"F"),r=Ei(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,Fd(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,o){return e0(i)||o.isEqual(_t.min())?$.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,o)?$.resolve(null):(Ma()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Va(i)),this.vs(t,d,i,Zb(o,Ao)).next((p=>p)))}))}Ds(t,i){let r=new Oe($v(t));return i.forEach(((o,c)=>{ih(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,r){return Ma()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Va(i)),this.ps.getDocumentsMatchingQuery(t,i,Fs.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const wm="LocalStore",Ow=3e8;class Mw{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new le(Ot),this.xs=new zr((c=>gm(c)),pm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ew(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Vw(a,t,i,r){return new Mw(a,t,i,r)}async function EE(a,t){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Mt();for(const y of o){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function xw(a,t){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,M=S.keys();let q=$.resolve();return M.forEach((H=>{q=q.next((()=>A.getEntry(_,H))).next((Z=>{const W=y.docVersions.get(H);Ht(W!==null,48541),Z.version.compareTo(W)<0&&(S.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),A.addEntry(Z)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function TE(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function kw(a,t){const i=Et(a),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const M=o.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?q=q.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,r)),o=o.insert(S,q),(function(Z,W,lt){return Z.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=Ow?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(M,q,A)&&p.push(i.Pi.updateTargetData(c,q))}));let _=Ji(),y=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(Uw(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function Uw(a,t,i){let r=Mt(),o=Mt();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=Ji();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(wm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function Lw(a,t){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=fm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function Pw(a,t){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new js(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function $d(a,t,i){const r=Et(a),o=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!el(d))throw d;it(wm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function m0(a,t,i){const r=Et(a);let o=_t.min(),c=Mt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=Et(_),M=S.xs.get(A);return M!==void 0?$.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,A)})(r,d,Ei(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?o:_t.min(),i?c:Mt()))).next((p=>(zw(r,b2(t),p),{documents:p,Qs:c})))))}function zw(a,t,i){let r=a.Os.get(t)||_t.min();i.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class g0{constructor(){this.activeTargetIds=D2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jw{constructor(){this.Mo=new g0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new g0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Bw{Oo(t){}shutdown(){}}const p0="ConnectivityMonitor";class y0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(p0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(p0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _c=null;function Zd(){return _c===null?_c=(function(){return 268435456+Math.round(2147483648*Math.random())})():_c++,"0x"+_c.toString(16)}const Nd="RestConnection",qw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Vc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,c){const d=Zd(),p=this.zo(t,i.toUriEncodedString());it(Nd,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(p),A=Za(y);return this.Jo(t,p,_,r,A).then((S=>(it(Nd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ga(Nd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,i,r,o,c,d){return this.Go(t,i,r,o,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),r&&r.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const r=qw[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class Gw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class Fw extends Hw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,c){const d=Zd();return new Promise(((p,_)=>{const y=new wv;y.setWithCredentials(!0),y.listenOnce(Rv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ec.NO_ERROR:const S=y.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Ec.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),_(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ec.HTTP_ERROR:const M=y.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const H=q?.error;if(H&&H.status&&H.message){const Z=(function(lt){const mt=lt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(mt)>=0?mt:J.UNKNOWN})(H.status);_(new ot(Z,H.message))}else _(new ot(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ot(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);it(Xe,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const o=Zd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Nv(),p=Iv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");it(Xe,`Creating RPC '${t}' stream ${o}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let M=!1,q=!1;const H=new Gw({Yo:W=>{q?it(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(M||(it(Xe,`Opening RPC '${t}' stream ${o} transport.`),S.open(),M=!0),it(Xe,`RPC '${t}' stream ${o} sending:`,W),S.send(W))},Zo:()=>S.close()}),Z=(W,lt,mt)=>{W.listen(lt,(ft=>{try{mt(ft)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return Z(S,co.EventType.OPEN,(()=>{q||(it(Xe,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),Z(S,co.EventType.CLOSE,(()=>{q||(q=!0,it(Xe,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(S))})),Z(S,co.EventType.ERROR,(W=>{q||(q=!0,Ga(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),H.a_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),Z(S,co.EventType.MESSAGE,(W=>{if(!q){const lt=W.data[0];Ht(!!lt,16349);const mt=lt,ft=mt?.error||mt[0]?.error;if(ft){it(Xe,`RPC '${t}' stream ${o} received error:`,ft);const qt=ft.status;let Vt=(function(b){const C=be[b];if(C!==void 0)return oE(C)})(qt),wt=ft.message;Vt===void 0&&(Vt=J.INTERNAL,wt="Unknown error status: "+qt+" with message "+ft.message),q=!0,H.a_(new ot(Vt,wt)),S.close()}else it(Xe,`RPC '${t}' stream ${o} received:`,lt),H.u_(lt)}})),Z(p,Cv.STAT_EVENT,(W=>{W.stat===zd.PROXY?it(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===zd.NOPROXY&&it(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Dd(){return typeof document<"u"?document:null}function oh(a){return new X2(a,!0)}class AE{constructor(t,i,r=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _0="PersistentStream";class SE{constructor(t,i,r,o,c,d,p,_){this.Mi=t,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Zi(i.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new ot(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(_0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(_0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qw extends SE{constructor(t,i,r,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=J2(this.serializer,t),r=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ti(d.readTime):_t.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=Xd(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Gd(_)?{documents:ew(c,_)}:{query:nw(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=hE(c,d.resumeToken);const y=Qd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=zc(c,d.snapshotVersion.toTimestamp());const y=Qd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=sw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=Xd(this.serializer),i.removeTarget=t,this.q_(i)}}class Kw extends SE{constructor(t,i,r,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=tw(t.writeResults,t.commitTime),r=Ti(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=Xd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>W2(this.serializer,r)))};this.q_(i)}}class Yw{}class Xw extends Yw{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Kd(i,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(J.UNKNOWN,c.toString())}))}Ho(t,i,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Kd(i,r),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $w{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Lr="RemoteStore";class Zw{constructor(t,i,r,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Br(this)&&(it(Lr,"Restarting streams for network reachability change."),await(async function(_){const y=Et(_);y.Ea.add(4),await xo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await uh(y)})(this))}))})),this.Ra=new $w(r,o)}}async function uh(a){if(Br(a))for(const t of a.da)await t(!0)}async function xo(a){for(const t of a.da)await t(!1)}function bE(a,t){const i=Et(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Nm(i)?Im(i):nl(i).O_()&&Cm(i,t))}function Rm(a,t){const i=Et(a),r=nl(i);i.Ia.delete(t),r.O_()&&wE(i,t),i.Ia.size===0&&(r.O_()?r.L_():Br(i)&&i.Ra.set("Unknown"))}function Cm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}nl(a).Y_(t)}function wE(a,t){a.Va.Ue(t),nl(a).Z_(t)}function Im(a){a.Va=new F2({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),nl(a).start(),a.Ra.ua()}function Nm(a){return Br(a)&&!nl(a).x_()&&a.Ia.size>0}function Br(a){return Et(a).Ea.size===0}function RE(a){a.Va=void 0}async function Jw(a){a.Ra.set("Online")}async function Ww(a){a.Ia.forEach(((t,i)=>{Cm(a,t)}))}async function tR(a,t){RE(a),Nm(a)?(a.Ra.ha(t),Im(a)):a.Ra.set("Unknown")}async function eR(a,t,i){if(a.Ra.set("Online"),t instanceof cE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(a,t)}catch(r){it(Lr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Bc(a,r)}else if(t instanceof bc?a.Va.Ze(t):t instanceof uE?a.Va.st(t):a.Va.tt(t),!i.isEqual(_t.min()))try{const r=await TE(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),wE(c,_);const S=new js(A.target,_,y,A.sequenceNumber);Cm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){it(Lr,"Failed to raise snapshot:",r),await Bc(a,r)}}async function Bc(a,t,i){if(!el(t))throw t;a.Ea.add(1),await xo(a),a.Ra.set("Offline"),i||(i=()=>TE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(Lr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await uh(a)}))}function CE(a,t){return t().catch((i=>Bc(a,i,t)))}async function ch(a){const t=Et(a),i=Xs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:fm;for(;nR(t);)try{const o=await Lw(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,iR(t,o)}catch(o){await Bc(t,o)}IE(t)&&NE(t)}function nR(a){return Br(a)&&a.Ta.length<10}function iR(a,t){a.Ta.push(t);const i=Xs(a);i.O_()&&i.X_&&i.ea(t.mutations)}function IE(a){return Br(a)&&!Xs(a).x_()&&a.Ta.length>0}function NE(a){Xs(a).start()}async function sR(a){Xs(a).ra()}async function rR(a){const t=Xs(a);for(const i of a.Ta)t.ea(i.mutations)}async function aR(a,t,i){const r=a.Ta.shift(),o=vm.from(r,t,i);await CE(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await ch(a)}async function lR(a,t){t&&Xs(a).X_&&await(async function(r,o){if((function(d){return q2(d)&&d!==J.ABORTED})(o.code)){const c=r.Ta.shift();Xs(r).B_(),await CE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ch(r)}})(a,t),IE(a)&&NE(a)}async function v0(a,t){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(Lr,"RemoteStore received new credentials");const r=Br(i);i.Ea.add(3),await xo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await uh(i)}async function oR(a,t){const i=Et(a);t?(i.Ea.delete(2),await uh(i)):t||(i.Ea.add(2),await xo(i),i.Ra.set("Unknown"))}function nl(a){return a.ma||(a.ma=(function(i,r,o){const c=Et(i);return c.sa(),new Qw(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:Jw.bind(null,a),t_:Ww.bind(null,a),r_:tR.bind(null,a),H_:eR.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Nm(a)?Im(a):a.Ra.set("Unknown")):(await a.ma.stop(),RE(a))}))),a.ma}function Xs(a){return a.fa||(a.fa=(function(i,r,o){const c=Et(i);return c.sa(),new Kw(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:sR.bind(null,a),r_:lR.bind(null,a),ta:rR.bind(null,a),na:aR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await ch(a)):(await a.fa.stop(),a.Ta.length>0&&(it(Lr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Dm{constructor(t,i,r,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,c){const d=Date.now()+r,p=new Dm(t,i,d,o,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(a,t){if(Zi("AsyncQueue",`${t}: ${a}`),el(a))return new ot(J.UNAVAILABLE,`${t}: ${a}`);throw a}class Pa{static emptySet(t){return new Pa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=ho(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class E0{constructor(){this.ga=new le(ht.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Xa{constructor(t,i,r,o,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Xa(t,i,Pa.emptySet(i),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class uR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class cR{constructor(){this.queries=T0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Et(i),c=o.queries;o.queries=T0(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function T0(){return new zr((a=>Xv(a)),nh)}async function hR(a,t){const i=Et(a);let r=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(r=2):(c=new uR,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Om(d,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Mm(i)}async function fR(a,t){const i=Et(a),r=t.query;let o=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function dR(a,t){const i=Et(a);let r=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Mm(i)}function mR(a,t,i){const r=Et(a),o=r.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);r.queries.delete(t)}function Mm(a){a.Ca.forEach((t=>{t.next()}))}var Jd,A0;(A0=Jd||(Jd={})).Ma="default",A0.Cache="cache";class gR{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Xa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Jd.Cache}}class DE{constructor(t){this.key=t}}class OE{constructor(t){this.key=t}}class pR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=$v(t),this.tu=new Pa(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new E0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,S)=>{const M=o.get(A),q=ih(this.query,S)?S:null,H=!!M&&this.mutatedKeys.has(M.key),Z=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let W=!1;M&&q?M.data.isEqual(q.data)?H!==Z&&(r.track({type:3,doc:q}),W=!0):this.su(M,q)||(r.track({type:2,doc:q}),W=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(p=!0)):!M&&q?(r.track({type:0,doc:q}),W=!0):M&&!q&&(r.track({type:1,doc:M}),W=!0,(_||y)&&(p=!0)),W&&(q?(d=d.add(q),c=Z?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(q,H){const Z=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:W})}};return Z(q)-Z(H)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Xa(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new OE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new DE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vm="SyncEngine";class yR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class _R{constructor(t){this.key=t,this.hu=!1}}class vR{constructor(t,i,r,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new zr((p=>Xv(p)),nh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ht.comparator),this.Au=new Map,this.Ru=new Am,this.Vu={},this.mu=new Map,this.fu=Ya.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ER(a,t,i=!0){const r=LE(a);let o;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await ME(r,t,i,!0),o}async function TR(a,t){const i=LE(a);await ME(i,t,!0,!1)}async function ME(a,t,i,r){const o=await Pw(a.localStore,Ei(t)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await AR(a,t,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&bE(a.remoteStore,o),p}async function AR(a,t,i,r,o){a.pu=(S,M,q)=>(async function(Z,W,lt,mt){let ft=W.view.ru(lt);ft.Cs&&(ft=await m0(Z.localStore,W.query,!1).then((({documents:I})=>W.view.ru(I,ft))));const qt=mt&&mt.targetChanges.get(W.targetId),Vt=mt&&mt.targetMismatches.get(W.targetId)!=null,wt=W.view.applyChanges(ft,Z.isPrimaryClient,qt,Vt);return b0(Z,W.targetId,wt.au),wt.snapshot})(a,S,M,q);const c=await m0(a.localStore,t,!0),d=new pR(t,c.Qs),p=d.ru(c.documents),_=Vo.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),y=d.applyChanges(p,a.isPrimaryClient,_);b0(a,i,y.au);const A=new yR(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function SR(a,t,i){const r=Et(a),o=r.Tu.get(t),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!nh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await $d(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Rm(r.remoteStore,o.targetId),Wd(r,o.targetId)})).catch(tl)):(Wd(r,o.targetId),await $d(r.localStore,o.targetId,!0))}async function bR(a,t){const i=Et(a),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Rm(i.remoteStore,r.targetId))}async function wR(a,t,i){const r=MR(a);try{const o=await(function(d,p){const _=Et(d),y=ee.now(),A=p.reduce(((q,H)=>q.add(H.key)),Mt());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let H=Ji(),Z=Mt();return _.Ns.getEntries(q,A).next((W=>{H=W,H.forEach(((lt,mt)=>{mt.isValidDocument()||(Z=Z.add(lt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,H))).next((W=>{S=W;const lt=[];for(const mt of p){const ft=L2(mt,S.get(mt.key).overlayedDocument);ft!=null&&lt.push(new jr(mt.key,ft,qv(ft.value.mapValue),Xi.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,lt,p)})).next((W=>{M=W;const lt=W.applyToLocalDocumentSet(S,Z);return _.documentOverlayCache.saveOverlays(q,W.batchId,lt)}))})).then((()=>({batchId:M.batchId,changes:Jv(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new le(Ot)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,o.batchId,i),await ko(r,o.changes),await ch(r.remoteStore)}catch(o){const c=Om(o,"Failed to persist write");i.reject(c)}}async function VE(a,t){const i=Et(a);try{const r=await kw(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await ko(i,r,t)}catch(r){await tl(r)}}function S0(a,t,i){const r=Et(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=Et(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&Mm(_)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function RR(a,t,i){const r=Et(a);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),c=o&&o.key;if(c){let d=new le(ht.comparator);d=d.insert(c,Ze.newNoDocument(c,_t.min()));const p=Mt().add(c),_=new lh(_t.min(),new Map,new le(Ot),d,p);await VE(r,_),r.du=r.du.remove(c),r.Au.delete(t),xm(r)}else await $d(r.localStore,t,!1).then((()=>Wd(r,t,i))).catch(tl)}async function CR(a,t){const i=Et(a),r=t.batch.batchId;try{const o=await xw(i.localStore,t);kE(i,r,null),xE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await ko(i,o)}catch(o){await tl(o)}}async function IR(a,t,i){const r=Et(a);try{const o=await(function(d,p){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ht(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);kE(r,t,i),xE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await ko(r,o)}catch(o){await tl(o)}}function xE(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function kE(a,t,i){const r=Et(a);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Wd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||UE(a,r)}))}function UE(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Rm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),xm(a))}function b0(a,t,i){for(const r of i)r instanceof DE?(a.Ru.addReference(r.key,t),NR(a,r)):r instanceof OE?(it(Vm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||UE(a,r.key)):gt(19791,{wu:r})}function NR(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(it(Vm,"New document in limbo: "+i),a.Eu.add(r),xm(a))}function xm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ht(ae.fromString(t)),r=a.fu.next();a.Au.set(r,new _R(i)),a.du=a.du.insert(i,r),bE(a.remoteStore,new js(Ei(ym(i.path)),r,"TargetPurposeLimboResolution",Jc.ce))}}async function ko(a,t,i){const r=Et(a),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){o.push(y);const A=bm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(_,y){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(M=>$.forEach(M.Es,(q=>A.persistence.referenceDelegate.addReference(S,M.targetId,q))).next((()=>$.forEach(M.ds,(q=>A.persistence.referenceDelegate.removeReference(S,M.targetId,q)))))))))}catch(S){if(!el(S))throw S;it(wm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const q=A.Ms.get(M),H=q.snapshotVersion,Z=q.withLastLimboFreeSnapshotVersion(H);A.Ms=A.Ms.insert(M,Z)}}})(r.localStore,c))}async function DR(a,t){const i=Et(a);if(!i.currentUser.isEqual(t)){it(Vm,"User change. New user:",t.toKey());const r=await EE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ot(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ko(i,r.Ls)}}function OR(a,t){const i=Et(a),r=i.Au.get(t);if(r&&r.hu)return Mt().add(r.key);{let o=Mt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function LE(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=VE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RR.bind(null,t),t.Pu.H_=dR.bind(null,t.eventManager),t.Pu.yu=mR.bind(null,t.eventManager),t}function MR(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IR.bind(null,t),t}class qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=oh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Vw(this.persistence,new Dw,t.initialUser,this.serializer)}Cu(t){return new vE(Sm.mi,this.serializer)}Du(t){return new jw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qc.provider={build:()=>new qc};class VR extends qc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new vE((r=>jc.mi(r,i)),this.serializer)}}class tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DR.bind(null,this.syncEngine),await oR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cR})()}createDatastore(t){const i=oh(t.databaseInfo.databaseId),r=(function(c){return new Fw(c)})(t.databaseInfo);return(function(c,d,p,_){return new Xw(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,c,d,p){return new Zw(r,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>S0(this.syncEngine,i,0)),(function(){return y0.v()?new y0:new Bw})())}createSyncEngine(t,i){return(function(o,c,d,p,_,y,A){const S=new vR(o,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Et(i);it(Lr,"RemoteStore shutting down."),r.Ea.add(5),await xo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};class xR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $s="FirestoreClient";class kR{constructor(t,i,r,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{it($s,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it($s,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Om(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Od(a,t){a.asyncQueue.verifyOperationInProgress(),it($s,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await EE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function w0(a,t){a.asyncQueue.verifyOperationInProgress();const i=await UR(a);it($s,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>v0(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>v0(t.remoteStore,o))),a._onlineComponents=t}async function UR(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it($s,"Using user provided OfflineComponentProvider");try{await Od(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ga("Error using user provided cache. Falling back to memory cache: "+i),await Od(a,new qc)}}else it($s,"Using default OfflineComponentProvider"),await Od(a,new VR(void 0));return a._offlineComponents}async function PE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it($s,"Using user provided OnlineComponentProvider"),await w0(a,a._uninitializedComponentsProvider._online)):(it($s,"Using default OnlineComponentProvider"),await w0(a,new tm))),a._onlineComponents}function LR(a){return PE(a).then((t=>t.syncEngine))}async function R0(a){const t=await PE(a),i=t.eventManager;return i.onListen=ER.bind(null,t.syncEngine),i.onUnlisten=SR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=TR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=bR.bind(null,t.syncEngine),i}function zE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const C0=new Map;const jE="firestore.googleapis.com",I0=!0;class N0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jE,this.ssl=I0}else this.host=t.host,this.ssl=t.ssl??I0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dw)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$b("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class km{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new zb;switch(r.type){case"firstParty":return new Hb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=C0.get(i);r&&(it("ComponentProvider","Removing Datastore"),C0.delete(i),r.terminate())})(this),Promise.resolve()}}function PR(a,t,i,r={}){a=La(a,km);const o=Za(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;o&&(pv(`https://${p}`),yv("Firestore",!0)),c.host!==jE&&c.host!==p&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:r};if(!xr(_,d)&&(a._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=$e.MOCK_USER;else{y=fS(r.mockUserToken,a._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(S)}a._authCredentials=new jb(new Ov(y,A))}}class hh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new hh(this.firestore,t,this._query)}}class Le{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Mo(i,Le._jsonSchema))return new Le(t,r||null,new ht(ae.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:we("string",Le._jsonSchemaVersion),referencePath:we("string")};class Io extends hh{constructor(t,i,r){super(t,i,ym(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new ht(t))}withConverter(t){return new Io(this.firestore,t,this._path)}}function D0(a,t,...i){if(a=hn(a),arguments.length===1&&(t=cm.newId()),Xb("doc","path",t),a instanceof km){const r=ae.fromString(t,...i);return q_(r),new Le(a,null,new ht(r))}{if(!(a instanceof Le||a instanceof Io))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ae.fromString(t,...i));return q_(r),new Le(a.firestore,a instanceof Io?a.converter:null,new ht(r))}}const O0="AsyncQueue";class M0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AE(this,"async_queue_retry"),this._c=()=>{const r=Dd();r&&it(O0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Dd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Dd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!el(t))throw t;it(O0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Zi("INTERNAL UNHANDLED ERROR: ",V0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Dm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:V0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function V0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function x0(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(a,["next","error","complete"])}class Hc extends km{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new M0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new M0(t),this._firestoreClient=void 0,await t}}}function zR(a,t){const i=typeof a=="object"?a:Tv(),r=typeof a=="string"?a:Vc,o=om(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=cS("firestore");c&&PR(o,...c)}return o}function BE(a){if(a._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||jR(a),a._firestoreClient}function jR(a){const t=a._freezeSettings(),i=(function(o,c,d,p){return new l2(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,zE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new kR(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Ke.fromBase64String(t))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Mo(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:we("string",kn._jsonSchemaVersion),bytes:we("string")};class fh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Um{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(Mo(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:we("string",Ai._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class Si{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Mo(t,Si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Si(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:we("string",Si._jsonSchemaVersion),vectorValues:we("object")};const BR=/^__.*__$/;class qE{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new jr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function HE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:a})}}class Lm{constructor(t,i,r,o,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Lm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Gc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(HE(this.Ac)&&BR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class qR{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||oh(t)}Cc(t,i,r,o=!1){return new Lm({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HR(a){const t=a._freezeSettings(),i=oh(a._databaseId);return new qR(a._databaseId,!!t.ignoreUndefinedProperties,i)}class dh extends Um{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof dh}}function GR(a,t,i,r){const o=a.Cc(1,t,i);FE("Data must be an object, but it was:",o,r);const c=[],d=Tn.empty();Zs(r,((_,y)=>{const A=Pm(t,_,i);y=hn(y);const S=o.yc(A);if(y instanceof dh)c.push(A);else{const M=mh(y,S);M!=null&&(c.push(A),d.set(A,M))}}));const p=new Yn(c);return new qE(d,p,o.fieldTransforms)}function FR(a,t,i,r,o,c){const d=a.Cc(1,t,i),p=[k0(t,r,i)],_=[o];if(c.length%2!=0)throw new ot(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(k0(t,c[M])),_.push(c[M+1]);const y=[],A=Tn.empty();for(let M=p.length-1;M>=0;--M)if(!YR(y,p[M])){const q=p[M];let H=_[M];H=hn(H);const Z=d.yc(q);if(H instanceof dh)y.push(q);else{const W=mh(H,Z);W!=null&&(y.push(q),A.set(q,W))}}const S=new Yn(y);return new qE(A,S,d.fieldTransforms)}function mh(a,t){if(GE(a=hn(a)))return FE("Unsupported field value:",t,a),QR(a,t);if(a instanceof Um)return(function(r,o){if(!HE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const p of r){let _=mh(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,o){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ee.fromDate(r);return{timestampValue:zc(o.serializer,c)}}if(r instanceof ee){const c=new ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zc(o.serializer,c)}}if(r instanceof Ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:hE(o.serializer,r._byteString)};if(r instanceof Le){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Tm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Si)return(function(d,p){return{mapValue:{fields:{[jv]:{stringValue:Bv},[xc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return _m(p.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${hm(r)}`)})(a,t)}function QR(a,t){const i={};return xv(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zs(a,((r,o)=>{const c=mh(o,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function GE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ee||a instanceof Ai||a instanceof kn||a instanceof Le||a instanceof Um||a instanceof Si)}function FE(a,t,i){if(!GE(i)||!Mv(i)){const r=hm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function k0(a,t,i){if((t=hn(t))instanceof fh)return t._internalPath;if(typeof t=="string")return Pm(a,t);throw Gc("Field path arguments must be of type string or ",a,!1,void 0,i)}const KR=new RegExp("[~\\*/\\[\\]]");function Pm(a,t,i){if(t.search(KR)>=0)throw Gc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new fh(...t.split("."))._internalPath}catch{throw Gc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Gc(a,t,i,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new ot(J.INVALID_ARGUMENT,p+a+_)}function YR(a,t){return a.some((i=>i.isEqual(t)))}class QE{constructor(t,i,r,o,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(KE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XR extends QE{data(){return super.data()}}function KE(a,t){return typeof t=="string"?Pm(a,t):t instanceof fh?t._internalPath:t._delegate._internalPath}function $R(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZR{convertValue(t,i="none"){switch(Ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ks(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Zs(t,((o,c)=>{r[o]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[xc].arrayValue?.values?.map((r=>me(r.doubleValue)));return new Si(i)}convertGeoPoint(t){return new Ai(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=th(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(So(t));default:return null}}convertTimestamp(t){const i=Qs(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ae.fromString(t);Ht(yE(r),9688,{name:t});const o=new bo(r.get(1),r.get(3)),c=new ht(r.popFirst(5));return o.isEqual(i)||Zi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class mo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Mr extends QE{constructor(t,i,r,o,c,d){super(t,i,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(KE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Mr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Mr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mr._jsonSchema={type:we("string",Mr._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class wc extends Mr{data(t={}){return super.data(t)}}class za{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new mo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new wc(this._firestore,this._userDataWriter,r.key,r,new mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new wc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new mo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:JR(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function JR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:a})}}za._jsonSchemaVersion="firestore/querySnapshot/1.0",za._jsonSchema={type:we("string",za._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class YE extends ZR{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function U0(a,t,i,...r){a=La(a,Le);const o=La(a.firestore,Hc),c=HR(o);let d;return d=typeof(t=hn(t))=="string"||t instanceof fh?FR(c,"updateDoc",a._key,t,i,r):GR(c,"updateDoc",a._key,t),tC(o,[d.toMutation(a._key,Xi.exists(!0))])}function WR(a,...t){a=hn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||x0(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(x0(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,p;if(a instanceof Le)d=La(a.firestore,Hc),p=ym(a._key.path),c={next:_=>{t[r]&&t[r](eC(d,a,_))},error:t[r+1],complete:t[r+2]};else{const _=La(a,hh);d=La(_.firestore,Hc),p=_._query;const y=new YE(d);c={next:A=>{t[r]&&t[r](new za(d,y,_,A))},error:t[r+1],complete:t[r+2]},$R(a._query)}return(function(y,A,S,M){const q=new xR(M),H=new gR(A,q,S);return y.asyncQueue.enqueueAndForget((async()=>hR(await R0(y),H))),()=>{q.Nu(),y.asyncQueue.enqueueAndForget((async()=>fR(await R0(y),H)))}})(BE(d),p,o,c)}function tC(a,t){return(function(r,o){const c=new Or;return r.asyncQueue.enqueueAndForget((async()=>wR(await LR(r),o,c))),c.promise})(BE(a),t)}function eC(a,t,i){const r=i.docs.get(t._key),o=new YE(a);return new Mr(a,o,t._key,r,new mo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Wa=o})(Ja),Ha(new kr("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Hc(new Bb(r.getProvider("auth-internal")),new Gb(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(y.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Hs(P_,z_,t),Hs(P_,z_,"esm2020")})();var nC="firebase",iC="12.6.0";Hs(nC,iC,"app");function XE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sC=XE,$E=new Do("auth","Firebase",XE());const Fc=new am("@firebase/auth");function rC(a,...t){Fc.logLevel<=Dt.WARN&&Fc.warn(`Auth (${Ja}): ${a}`,...t)}function Rc(a,...t){Fc.logLevel<=Dt.ERROR&&Fc.error(`Auth (${Ja}): ${a}`,...t)}function Wi(a,...t){throw zm(a,...t)}function bi(a,...t){return zm(a,...t)}function ZE(a,t,i){const r={...sC(),[t]:i};return new Do("auth","Firebase",r).create(t,{appName:a.name})}function Vr(a){return ZE(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return $E.create(a,...t)}function pt(a,t,...i){if(!a)throw zm(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Rc(t),new Error(t)}function ts(a,t){a||Ki(t)}function em(){return typeof self<"u"&&self.location?.href||""}function aC(){return L0()==="http:"||L0()==="https:"}function L0(){return typeof self<"u"&&self.location?.protocol||null}function lC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aC()||_S()||"connection"in navigator)?navigator.onLine:!0}function oC(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Uo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ts(i>t,"Short delay should be less than long delay!"),this.isMobile=gS()||vS()}get(){return lC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(a,t){ts(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class JE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hC=new Uo(3e4,6e4);function Bm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function il(a,t,i,r,o={}){return WE(a,o,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Oo({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:_,...c};return yS()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Za(a.emulatorConfig.host)&&(y.credentials="include"),JE.fetch()(await tT(a,a.config.apiHost,i,p),y)})}async function WE(a,t,i){a._canInitEmulator=!1;const r={...uC,...t};try{const o=new dC(a),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw vc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw vc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw vc(a,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ZE(a,A,y);Wi(a,A)}}catch(o){if(o instanceof es)throw o;Wi(a,"network-request-failed",{message:String(o)})}}async function fC(a,t,i,r,o={}){const c=await il(a,t,i,r,o);return"mfaPendingCredential"in c&&Wi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function tT(a,t,i,r){const o=`${t}${i}?${r}`,c=a,d=c.config.emulator?jm(a.config,o):`${a.config.apiScheme}://${o}`;return cC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class dC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(bi(this.auth,"network-request-failed")),hC.get())})}}function vc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=bi(a,t,r);return o.customData._tokenResponse=i,o}async function mC(a,t){return il(a,"POST","/v1/accounts:delete",t)}async function Qc(a,t){return il(a,"POST","/v1/accounts:lookup",t)}function Eo(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gC(a,t=!1){const i=hn(a),r=await i.getIdToken(t),o=qm(r);pt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:Eo(Md(o.auth_time)),issuedAtTime:Eo(Md(o.iat)),expirationTime:Eo(Md(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Md(a){return Number(a)*1e3}function qm(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const o=fv(i);return o?JSON.parse(o):(Rc("Failed to decode base64 JWT payload"),null)}catch(o){return Rc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function P0(a){const t=qm(a);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function No(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof es&&pC(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function pC({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class yC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(a){const t=a.auth,i=await a.getIdToken(),r=await No(a,Qc(t,{idToken:i}));pt(r?.users.length,t,"internal-error");const o=r.users[0];a._notifyReloadListener(o);const c=o.providerUserInfo?.length?eT(o.providerUserInfo):[],d=vC(a.providerData,c),p=a.isAnonymous,_=!(a.email&&o.passwordHash)&&!d?.length,y=p?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(a,A)}async function _C(a){const t=hn(a);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vC(a,t){return[...a.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function eT(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function EC(a,t){const i=await WE(a,{},async()=>{const r=Oo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=a.config,d=await tT(a,o,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return a.emulatorConfig&&Za(a.emulatorConfig.host)&&(_.credentials="include"),JE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function TC(a,t){return il(a,"POST","/v2/accounts:revokeToken",Bm(a,t))}class ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):P0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=P0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await EC(t,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,d=new ja;return r&&(pt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),o&&(pt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ja,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function ks(a,t){pt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new yC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await No(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return gC(this,t)}reload(){return _C(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(Vr(this.auth));const t=await this.getIdToken();return await No(this,mC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:q,providerData:H,stsTokenManager:Z}=i;pt(S&&Z,t,"internal-error");const W=ja.fromJSON(this.name,Z);pt(typeof S=="string",t,"internal-error"),ks(r,t.name),ks(o,t.name),pt(typeof M=="boolean",t,"internal-error"),pt(typeof q=="boolean",t,"internal-error"),ks(c,t.name),ks(d,t.name),ks(p,t.name),ks(_,t.name),ks(y,t.name),ks(A,t.name);const lt=new Xn({uid:S,auth:t,email:o,emailVerified:M,displayName:r,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:y,lastLoginAt:A});return H&&Array.isArray(H)&&(lt.providerData=H.map(mt=>({...mt}))),_&&(lt._redirectEventId=_),lt}static async _fromIdTokenResponse(t,i,r=!1){const o=new ja;o.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];pt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?eT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new ja;p.updateFromIdToken(r);const _=new Xn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const z0=new Map;function Yi(a){ts(a instanceof Function,"Expected a class definition");let t=z0.get(a);return t?(ts(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,z0.set(a,t),t)}class nT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}nT.type="NONE";const j0=nT;function Cc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ba{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Cc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Cc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ba(Yi(j0),t,r);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Yi(j0);const d=Cc(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const M=await Qc(t,{idToken:A}).catch(()=>{});if(!M)break;S=await Xn._fromGetAccountInfoResponse(t,M,A)}else S=Xn._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ba(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ba(c,t,r))}}function B0(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(aT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oT(t))return"Blackberry";if(uT(t))return"Webos";if(sT(t))return"Safari";if((t.includes("chrome/")||rT(t))&&!t.includes("edge/"))return"Chrome";if(lT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function iT(a=Je()){return/firefox\//i.test(a)}function sT(a=Je()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rT(a=Je()){return/crios\//i.test(a)}function aT(a=Je()){return/iemobile/i.test(a)}function lT(a=Je()){return/android/i.test(a)}function oT(a=Je()){return/blackberry/i.test(a)}function uT(a=Je()){return/webos/i.test(a)}function Hm(a=Je()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function AC(a=Je()){return Hm(a)&&!!window.navigator?.standalone}function SC(){return ES()&&document.documentMode===10}function cT(a=Je()){return Hm(a)||lT(a)||uT(a)||oT(a)||/windows phone/i.test(a)||aT(a)}function hT(a,t=[]){let i;switch(a){case"Browser":i=B0(Je());break;case"Worker":i=`${B0(Je())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${r}`}class bC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function wC(a,t={}){return il(a,"GET","/v2/passwordPolicy",Bm(a,t))}const RC=6;class CC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??RC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class IC{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q0(this),this.idTokenSubscription=new q0(this),this.beforeStateQueue=new bC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ba.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),r=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(vi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vi(this.app))return Promise.reject(Vr(this));const i=t?hn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vi(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wC(this),i=new CC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Do("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await TC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&rC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gm(a){return hn(a)}class q0{constructor(t){this.auth=t,this.observer=null,this.addObserver=IS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NC(a){Fm=a}function DC(a){return Fm.loadJS(a)}function OC(){return Fm.gapiScript}function MC(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function VC(a,t){const i=om(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(xr(c,t??{}))return o;Wi(o,"already-initialized")}return i.initialize({options:t})}function xC(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function kC(a,t,i){const r=Gm(a);pt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,c=fT(t),{host:d,port:p}=UC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(xr(y,r.config.emulator)&&xr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Za(d)?(pv(`${c}//${d}${_}`),yv("Auth",!0)):LC()}function fT(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function UC(a){const t=fT(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:H0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:H0(d)}}}function H0(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function LC(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class dT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}async function qa(a,t){return fC(a,"POST","/v1/accounts:signInWithIdp",Bm(a,t))}const PC="http://localhost";class Pr extends dT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Pr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...c}=i;if(!r||!o)return null;const d=new Pr(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return qa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,qa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,qa(t,i)}buildRequest(){const t={requestUri:PC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Oo(i)}return t}}class mT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Lo extends mT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Us extends Lo{constructor(){super("facebook.com")}static credential(t){return Pr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class Ls extends Lo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Pr._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ls.credential(i,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";class Ps extends Lo{constructor(){super("github.com")}static credential(t){return Pr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";class zs extends Lo{constructor(){super("twitter.com")}static credential(t,i){return Pr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return zs.credential(i,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";class $a{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const c=await Xn._fromIdTokenResponse(t,r,o),d=G0(r);return new $a({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=G0(r);return new $a({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function G0(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Yc extends es{constructor(t,i,r,o){super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new Yc(t,i,r,o)}}function gT(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(a,c,t,r):c})}async function zC(a,t,i=!1){const r=await No(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return $a._forOperation(a,"link",r)}async function jC(a,t,i=!1){const{auth:r}=a;if(vi(r.app))return Promise.reject(Vr(r));const o="reauthenticate";try{const c=await No(a,gT(r,o,t,a),i);pt(c.idToken,r,"internal-error");const d=qm(c.idToken);pt(d,r,"internal-error");const{sub:p}=d;return pt(a.uid===p,r,"user-mismatch"),$a._forOperation(a,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(r,"user-mismatch"),c}}async function BC(a,t,i=!1){if(vi(a.app))return Promise.reject(Vr(a));const r="signIn",o=await gT(a,r,t),c=await $a._fromIdTokenResponse(a,r,o);return i||await a._updateCurrentUser(c.user),c}function qC(a,t,i,r){return hn(a).onIdTokenChanged(t,i,r)}function HC(a,t,i){return hn(a).beforeAuthStateChanged(t,i)}const Xc="__sak";class pT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const GC=1e3,FC=10;class yT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);SC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,FC):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}yT.type="LOCAL";const QC=yT;class _T extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}_T.type="SESSION";const vT=_T;function KC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new gh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await KC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Qm(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class YC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Qm("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function XC(a){wi().location.href=a}function ET(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function $C(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){return navigator?.serviceWorker?.controller||null}function JC(){return ET()?self:null}const TT="firebaseLocalStorageDb",WC=1,$c="firebaseLocalStorage",AT="fbase_key";class Po{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(a,t){return a.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function tI(){const a=indexedDB.deleteDatabase(TT);return new Po(a).toPromise()}function im(){const a=indexedDB.open(TT,WC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore($c,{keyPath:AT})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains($c)?t(r):(r.close(),await tI(),t(await im()))})})}async function F0(a,t,i){const r=ph(a,!0).put({[AT]:t,value:i});return new Po(r).toPromise()}async function eI(a,t){const i=ph(a,!1).get(t),r=await new Po(i).toPromise();return r===void 0?null:r.value}function Q0(a,t){const i=ph(a,!0).delete(t);return new Po(i).toPromise()}const nI=800,iI=3;class ST{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>iI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ET()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(JC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $C(),!this.activeServiceWorker)return;this.sender=new YC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await F0(t,Xc,"1"),await Q0(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>F0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>eI(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Q0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=ph(o,!1).getAll();return new Po(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ST.type="LOCAL";const sI=ST;new Uo(3e4,6e4);function rI(a,t){return t?Yi(t):(pt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Km extends dT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function aI(a){return BC(a.auth,new Km(a),a.bypassAuthState)}function lI(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),jC(i,new Km(a),a.bypassAuthState)}async function oI(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),zC(i,new Km(a),a.bypassAuthState)}class bT{constructor(t,i,r,o,c=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aI;case"linkViaPopup":case"linkViaRedirect":return oI;case"reauthViaPopup":case"reauthViaRedirect":return lI;default:Wi(this.auth,"internal-error")}}resolve(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uI=new Uo(2e3,1e4);class Ua extends bT{constructor(t,i,r,o,c){super(t,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const t=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uI.get())};t()}}Ua.currentPopupAction=null;const cI="pendingRedirect",Ic=new Map;class hI extends bT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Ic.get(this.auth._key());if(!t){try{const r=await fI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Ic.set(this.auth._key(),t)}return this.bypassAuthState||Ic.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fI(a,t){const i=gI(t),r=mI(a);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function dI(a,t){Ic.set(a._key(),t)}function mI(a){return Yi(a._redirectPersistence)}function gI(a){return Cc(cI,a.config.apiKey,a.name)}async function pI(a,t,i=!1){if(vi(a.app))return Promise.reject(Vr(a));const r=Gm(a),o=rI(r,t),d=await new hI(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const yI=600*1e3;class _I{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!wT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yI&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(t))}saveEventToCache(t){this.cachedEventUids.add(K0(t)),this.lastProcessedEventTime=Date.now()}}function K0(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function wT({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function vI(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wT(a);default:return!1}}async function EI(a,t={}){return il(a,"GET","/v1/projects",t)}const TI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AI=/^https?/;async function SI(a){if(a.config.emulator)return;const{authorizedDomains:t}=await EI(a);for(const i of t)try{if(bI(i))return}catch{}Wi(a,"unauthorized-domain")}function bI(a){const t=em(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!AI.test(i))return!1;if(TI.test(a))return r===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const wI=new Uo(3e4,6e4);function Y0(){const a=wi().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function RI(a){return new Promise((t,i)=>{function r(){Y0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Y0(),i(bi(a,"network-request-failed"))},timeout:wI.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)r();else{const o=MC("iframefcb");return wi()[o]=()=>{gapi.load?r():i(bi(a,"network-request-failed"))},DC(`${OC()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Nc=null,t})}let Nc=null;function CI(a){return Nc=Nc||RI(a),Nc}const II=new Uo(5e3,15e3),NI="__/auth/iframe",DI="emulator/auth/iframe",OI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VI(a){const t=a.config;pt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?jm(t,DI):`https://${a.config.authDomain}/${NI}`,r={apiKey:t.apiKey,appName:a.name,v:Ja},o=MI.get(a.config.apiHost);o&&(r.eid=o);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Oo(r).slice(1)}`}async function xI(a){const t=await CI(a),i=wi().gapi;return pt(i,a,"internal-error"),t.open({where:document.body,url:VI(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OI,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=bi(a,"network-request-failed"),p=wi().setTimeout(()=>{c(d)},II.get());function _(){wi().clearTimeout(p),o(r)}r.ping(_).then(_,()=>{c(d)})}))}const kI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UI=500,LI=600,PI="_blank",zI="http://localhost";class X0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jI(a,t,i,r=UI,o=LI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...kI,width:r.toString(),height:o.toString(),top:c,left:d},y=Je().toLowerCase();i&&(p=rT(y)?PI:i),iT(y)&&(t=t||zI,_.scrollbars="yes");const A=Object.entries(_).reduce((M,[q,H])=>`${M}${q}=${H},`,"");if(AC(y)&&p!=="_self")return BI(t||"",p),new X0(null);const S=window.open(t||"",p,A);pt(S,a,"popup-blocked");try{S.focus()}catch{}return new X0(S)}function BI(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const qI="__/auth/handler",HI="emulator/auth/handler",GI=encodeURIComponent("fac");async function $0(a,t,i,r,o,c){pt(a.config.authDomain,a,"auth-domain-config-required"),pt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:Ja,eventId:o};if(t instanceof mT){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",CS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Lo){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await a._getAppCheckToken(),y=_?`#${GI}=${encodeURIComponent(_)}`:"";return`${FI(a)}?${Oo(p).slice(1)}${y}`}function FI({config:a}){return a.emulator?jm(a,HI):`https://${a.authDomain}/${qI}`}const Vd="webStorageSupport";class QI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vT,this._completeRedirectFn=pI,this._overrideRedirectResult=dI}async _openPopup(t,i,r,o){ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await $0(t,i,r,em(),o);return jI(t,c,Qm())}async _openRedirect(t,i,r,o){await this._originValidation(t);const c=await $0(t,i,r,em(),o);return XC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ts(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await xI(t),r=new _I(t);return i.register("authEvent",o=>(pt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Vd,{type:Vd},o=>{const c=o?.[0]?.[Vd];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=SI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return cT()||sT()||Hm()}}const KI=QI;var Z0="@firebase/auth",J0="1.11.1";class YI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XI(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $I(a){Ha(new kr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(a)},y=new IC(r,o,c,_);return xC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ha(new kr("auth-internal",t=>{const i=Gm(t.getProvider("auth").getImmediate());return(r=>new YI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hs(Z0,J0,XI(a)),Hs(Z0,J0,"esm2020")}const ZI=300,JI=gv("authIdTokenMaxAge")||ZI;let W0=null;const WI=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>JI)return;const o=i?.token;W0!==o&&(W0=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tN(a=Tv()){const t=om(a,"auth");if(t.isInitialized())return t.getImmediate();const i=VC(a,{popupRedirectResolver:KI,persistence:[sI,QC,vT]}),r=gv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=WI(c.toString());HC(i,d,()=>d(i.currentUser)),qC(i,p=>d(p))}}const o=dv("auth");return o&&kC(i,`http://${o}`),i}function eN(){return document.getElementsByTagName("head")?.[0]??document}NC({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=o=>{const c=bi("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",eN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$I("Browser");const nN={apiKey:"AIzaSyBKc2Lvs49M5xBeHBcLQgpbJE9fb7Fl1DA",authDomain:"shareclean-93d48.firebaseapp.com",projectId:"shareclean-93d48",storageBucket:"shareclean-93d48.firebasestorage.app",messagingSenderId:"92248281836",appId:"1:92248281836:web:f1355b293e5fa5854c4bc9",measurementId:"G-T081PMME69"},RT=Ev(nN),tv=zR(RT);tN(RT);const ev={users:[{id:0,name:"Quarto 1",colorClass:"bg-indigo-100 text-indigo-600"},{id:1,name:"Quarto 2",colorClass:"bg-blue-100 text-blue-600"}],zones:{kitchen:{id:"kitchen",label:"Cozinha",tasks:["Limpar tudo"]},living:{id:"living",label:"Sala",tasks:["Aspirar"]}}},CT=a=>{const t=a.toLowerCase();return t.includes("cozinha")||t.includes("jantar")?Q.jsx(eS,{className:"w-6 h-6"}):t.includes("sala")||t.includes("estar")?Q.jsx(YA,{className:"w-6 h-6"}):t.includes("wc")||t.includes("banho")?Q.jsx(MA,{className:"w-6 h-6"}):t.includes("corredor")||t.includes("hall")?Q.jsx(xA,{className:"w-6 h-6"}):t.includes("folga")||t.includes("descanso")?Q.jsx(ov,{className:"w-6 h-6"}):Q.jsx(uv,{className:"w-6 h-6"})},iN=[{label:"Indigo",class:"bg-indigo-100 text-indigo-600 ring-indigo-200 dark:bg-indigo-900/50 dark:text-indigo-300 dark:ring-indigo-800"},{label:"Blue",class:"bg-blue-100 text-blue-600 ring-blue-200 dark:bg-blue-900/50 dark:text-blue-300 dark:ring-blue-800"},{label:"Cyan",class:"bg-cyan-100 text-cyan-600 ring-cyan-200 dark:bg-cyan-900/50 dark:text-cyan-300 dark:ring-cyan-800"},{label:"Teal",class:"bg-teal-100 text-teal-600 ring-teal-200 dark:bg-teal-900/50 dark:text-teal-300 dark:ring-teal-800"},{label:"Green",class:"bg-green-100 text-green-600 ring-green-200 dark:bg-green-900/50 dark:text-green-300 dark:ring-green-800"},{label:"Yellow",class:"bg-yellow-100 text-yellow-600 ring-yellow-200 dark:bg-yellow-900/50 dark:text-yellow-300 dark:ring-yellow-800"},{label:"Orange",class:"bg-orange-100 text-orange-600 ring-orange-200 dark:bg-orange-900/50 dark:text-orange-300 dark:ring-orange-800"},{label:"Red",class:"bg-red-100 text-red-600 ring-red-200 dark:bg-red-900/50 dark:text-red-300 dark:ring-red-800"},{label:"Purple",class:"bg-purple-100 text-purple-600 ring-purple-200 dark:bg-purple-900/50 dark:text-purple-300 dark:ring-purple-800"},{label:"Slate",class:"bg-slate-100 text-slate-600 ring-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:ring-slate-700"}],IT=a=>{a=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),a.setUTCDate(a.getUTCDate()+4-(a.getUTCDay()||7));var t=new Date(Date.UTC(a.getUTCFullYear(),0,1));return Math.ceil(((a-t)/864e5+1)/7)},nv=a=>{const t=new Date;return t.setDate(t.getDate()+a*7),`${t.getFullYear()}-W${IT(t)}`},NT=(a=0)=>{const t=new Date;t.setDate(t.getDate()+a*7);const i=t.getDay(),r=i===0?-6:1-i,o=new Date(t);o.setDate(t.getDate()+r);const c=new Date(o);c.setDate(o.getDate()+6);const d=p=>`${p.getDate()}/${p.getMonth()+1}`;return`${d(o)} a ${d(c)}`},DT=(a,t,i,r)=>{const o=Object.keys(i).sort(),d=((IT(new Date)+a)%r+r)%r,p=(t+d)%r;if(p<o.length){const _=o[p];return{...i[_],icon:CT(i[_].label),type:"task"}}else return{id:"rest",label:"Folga / Descanso",tasks:["Aproveita para relaxar!","Sem tarefas esta semana."],icon:Q.jsx(ov,{className:"w-6 h-6 text-emerald-500"}),type:"rest"}},iv=({progress:a,className:t=""})=>Q.jsx("div",{className:`w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2 shadow-inner ${t}`,children:Q.jsx("div",{className:"bg-teal-500 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${a}%`}})}),sm=({children:a,className:t="",onClick:i,isDarkMode:r})=>Q.jsx("div",{onClick:i,className:`rounded-2xl shadow-sm border p-4 transition-all hover:shadow-md ${r?"bg-slate-900 border-slate-800":"bg-white border-slate-100"} ${i?"cursor-pointer active:scale-95":""} ${t}`,children:a}),Ym=({user:a,size:t="md",className:i=""})=>{const r={sm:"w-6 h-6 text-[10px]",md:"w-12 h-12 text-lg",lg:"w-16 h-16 text-2xl"},o=a.colorClass||"bg-slate-100 text-slate-600";return Q.jsx("div",{className:`${r[t]} rounded-full flex items-center justify-center font-bold flex-shrink-0 ${o} ${i}`,children:a.name.charAt(0)})},sN=({users:a,zones:t,currentWeekStatus:i,setView:r,setSelectedUser:o,totalProgress:c,isDarkMode:d,toggleTheme:p,weekOffset:_,setWeekOffset:y,houseId:A})=>Q.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Q.jsxs("div",{children:[Q.jsx("h1",{className:`text-2xl font-bold ${d?"text-slate-100":"text-slate-800"}`,children:"ShareClean"}),Q.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[Q.jsxs("div",{className:`flex items-center gap-2 text-sm font-medium p-1 rounded-lg w-fit ${d?"bg-slate-900 text-slate-300":"bg-white text-slate-600 border border-slate-200"}`,children:[Q.jsx("button",{onClick:()=>y(S=>S-1),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded",children:Q.jsx(IA,{className:"w-4 h-4"})}),Q.jsx("span",{className:"min-w-[100px] text-center",children:NT(_)}),Q.jsx("button",{onClick:()=>y(S=>S+1),className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded",children:Q.jsx(RA,{className:"w-4 h-4"})})]}),_!==0&&Q.jsx("button",{onClick:()=>y(0),className:"p-1.5 rounded-lg bg-teal-50 text-teal-600",children:Q.jsx(qA,{className:"w-4 h-4"})})]})]}),Q.jsxs("div",{className:"flex gap-2",children:[Q.jsx("button",{onClick:p,className:`p-2 rounded-full ${d?"bg-slate-800 text-yellow-400":"bg-slate-100 text-slate-600"}`,children:d?Q.jsx(ZA,{className:"w-5 h-5"}):Q.jsx(PA,{className:"w-5 h-5"})}),Q.jsx("button",{onClick:()=>r("house"),className:`p-2 rounded-full ${d?"bg-slate-800 text-slate-300":"bg-slate-100 text-slate-600"}`,children:Q.jsx(GA,{className:"w-5 h-5"})})]})]}),Q.jsxs("div",{className:`p-3 rounded-xl border border-dashed flex justify-between items-center mb-6 ${d?"bg-slate-900 border-slate-700":"bg-blue-50 border-blue-200"}`,children:[Q.jsxs("div",{className:"flex flex-col",children:[Q.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Cdigo da Casa"}),Q.jsx("span",{className:"text-xl font-mono font-bold tracking-widest text-blue-500",children:A})]}),Q.jsx(QA,{className:"w-5 h-5 text-blue-400"})]}),Q.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.map((S,M)=>{const q=i[S.id],H=DT(_,M,t,a.length),Z=H.type==="rest";return Q.jsx(sm,{isDarkMode:d,onClick:()=>{o({...S,zoneIndex:M}),r("profile")},className:`relative overflow-hidden ${q&&!Z?d?"ring-2 ring-green-500/50 bg-green-900/20":"ring-2 ring-green-400 bg-green-50":""}`,children:Q.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[Q.jsx(Ym,{user:S,size:"md"}),Q.jsxs("div",{className:"w-full",children:[Q.jsx("h3",{className:`font-medium text-sm truncate ${d?"text-slate-200":"text-slate-800"}`,children:S.name}),Q.jsxs("div",{className:`flex items-center justify-center gap-1 text-xs mt-1 mb-2 ${Z?"text-emerald-500 font-bold":d?"text-slate-400":"text-slate-500"}`,children:[H.icon," ",Q.jsx("span",{className:"truncate max-w-[80px]",children:H.label})]}),!Z&&Q.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[Q.jsx(iv,{progress:q?100:0}),Q.jsx("span",{className:q?"text-green-500 font-bold":"text-slate-400",children:q?"100%":"0%"})]}),Z&&Q.jsx("span",{className:"text-[10px] text-emerald-400",children:"Aproveita!"})]}),q&&!Z&&Q.jsx("div",{className:"absolute top-2 right-2 text-green-500",children:Q.jsx(lv,{className:"w-5 h-5"})})]})},S.id)})}),Q.jsx("div",{className:"mt-6",children:Q.jsxs(sm,{isDarkMode:d,className:d?"!bg-slate-900 border-teal-900/30":"!bg-white border-teal-100",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Q.jsx("span",{className:`font-semibold ${d?"text-teal-400":"text-teal-800"}`,children:"Progresso da Casa"}),Q.jsxs("span",{className:`text-sm font-bold ${d?"text-teal-400":"text-teal-600"}`,children:[Math.round(c),"%"]})]}),Q.jsx(iv,{progress:c,className:"h-4"})]})})]}),rN=({user:a,zones:t,currentWeekStatus:i,onBack:r,onToggleTaskCompletion:o,isDarkMode:c,weekOffset:d,usersCount:p})=>{const _=DT(d,a.zoneIndex,t,p),y=i[a.id]||!1,A=_.type==="rest",[S,M]=Ue.useState(_.tasks?_.tasks.map(H=>({text:H,done:y})):[]);Ue.useEffect(()=>{if(A)return;const H=S.length>0&&S.every(Z=>Z.done);H!==y&&o(a.id,H)},[S,y,o,a.id,A]);const q=H=>{if(A)return;const Z=[...S];Z[H].done=!Z[H].done,M(Z)};return Q.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300 pb-20",children:[Q.jsxs("div",{className:"flex items-center gap-4",children:[Q.jsx("button",{onClick:r,className:`p-2 rounded-full ${c?"hover:bg-slate-800 text-slate-400":"hover:bg-slate-100 text-slate-600"}`,children:Q.jsx(av,{className:"w-6 h-6"})}),Q.jsx(Ym,{user:a,size:"lg"}),Q.jsxs("div",{children:[Q.jsx("h2",{className:`text-xl font-bold ${c?"text-slate-100":"text-slate-800"}`,children:a.name}),Q.jsx("p",{className:`text-xs ${c?"text-slate-400":"text-slate-500"}`,children:NT(d)})]})]}),Q.jsxs(sm,{isDarkMode:c,className:`border-none relative overflow-hidden ${A?c?"!bg-emerald-900 text-emerald-100":"!bg-emerald-100 text-emerald-800":c?"!bg-slate-800 text-white":"!bg-gradient-to-br !from-teal-500 !to-teal-600 text-white"}`,children:[Q.jsxs("div",{className:"relative z-10",children:[Q.jsx("p",{className:"text-sm mb-1 opacity-90",children:A?"Estado:":"Misso da semana:"}),Q.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[_.icon," ",_.label]})]}),Q.jsx(uv,{className:"absolute -bottom-10 -right-10 w-40 h-40 opacity-10"})]}),Q.jsxs("div",{className:"space-y-3",children:[S.map((H,Z)=>Q.jsxs("div",{onClick:()=>q(Z),className:`flex items-center gap-3 p-4 rounded-xl border transition-all cursor-pointer ${H.done?c?"bg-green-900/20 border-green-900/50":"bg-green-50 border-green-200":c?"bg-slate-900 border-slate-800":"bg-white border-slate-100"}`,children:[Q.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${H.done?"bg-green-500 border-green-500":"border-slate-300"}`,children:H.done&&Q.jsx(lv,{className:"w-4 h-4 text-white"})}),Q.jsx("span",{className:`text-sm ${H.done?"line-through opacity-50":""}`,children:H.text})]},Z)),A&&Q.jsx("div",{className:`p-6 text-center rounded-xl border border-dashed ${c?"border-slate-700 text-slate-500":"border-slate-300 text-slate-500"}`,children:Q.jsx("p",{children:"Nada para fazer aqui. Aproveita a vida! "})})]})]})},aN=({users:a,zones:t,onBack:i,onUpdateData:r,isDarkMode:o,onLogout:c})=>{const[d,p]=Ue.useState(null),[_,y]=Ue.useState(null),[A,S]=Ue.useState(""),M=H=>{if(!A.trim())return;const Z={...t[H],tasks:[...t[H].tasks||[],A]};r({zones:{...t,[H]:Z}}),S("")},q=(H,Z)=>{const W=t[H].tasks.filter((mt,ft)=>ft!==Z),lt={...t[H],tasks:W};r({zones:{...t,[H]:lt}})};return Q.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300 pb-20",children:[Q.jsxs("div",{className:"flex items-center justify-between gap-4",children:[Q.jsxs("div",{className:"flex items-center gap-4",children:[Q.jsx("button",{onClick:i,className:`p-2 rounded-full ${o?"hover:bg-slate-800 text-slate-400":"hover:bg-slate-100 text-slate-600"}`,children:Q.jsx(av,{className:"w-6 h-6"})}),Q.jsx("h2",{className:`text-xl font-bold ${o?"text-slate-100":"text-slate-800"}`,children:"Definies"})]}),Q.jsxs("button",{onClick:c,className:"text-red-500 text-xs font-bold flex items-center gap-1 bg-red-50 px-3 py-2 rounded-full hover:bg-red-100",children:[Q.jsx(UA,{size:14})," Sair"]})]}),Q.jsxs("section",{children:[Q.jsxs("h3",{className:"font-bold mb-3 opacity-70",children:["Habitantes (",a.length,")"]}),Q.jsx("div",{className:`rounded-2xl border divide-y ${o?"bg-slate-900 border-slate-800 divide-slate-800":"bg-white border-slate-100 divide-slate-50"}`,children:a.map(H=>Q.jsxs("div",{className:"p-4",children:[Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsxs("div",{className:"flex items-center gap-3",children:[Q.jsx(Ym,{user:H,size:"md"}),Q.jsx("div",{children:Q.jsx("input",{type:"text",value:H.name,onChange:Z=>{const W=a.map(lt=>lt.id===H.id?{...lt,name:Z.target.value}:lt);r({users:W})},className:`bg-transparent font-medium w-32 focus:outline-none ${o?"text-white":"text-black"}`})})]}),Q.jsx("button",{onClick:()=>p(d===H.id?null:H.id),className:"text-xs bg-slate-100 px-3 py-1 rounded-full text-slate-600 font-bold",children:"Cor"})]}),d===H.id&&Q.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:iN.map((Z,W)=>Q.jsx("button",{onClick:()=>{const lt=a.map(mt=>mt.id===H.id?{...mt,colorClass:Z.class}:mt);r({users:lt})},className:`w-8 h-8 rounded-full border-2 ${Z.class} ${H.colorClass===Z.class?"ring-2 ring-offset-2":"border-transparent"}`},W))})]},H.id))})]}),Q.jsxs("section",{children:[Q.jsxs("h3",{className:"font-bold mb-3 opacity-70",children:["Divises (",Object.keys(t).length,")"]}),Q.jsx("div",{className:`rounded-2xl border divide-y ${o?"bg-slate-900 border-slate-800 divide-slate-800":"bg-white border-slate-100 divide-slate-50"}`,children:Object.values(t).map(H=>Q.jsxs("div",{className:"p-4",children:[Q.jsxs("div",{className:"flex justify-between items-center",children:[Q.jsxs("div",{className:"flex items-center gap-3",children:[Q.jsx("div",{className:"p-2 bg-teal-50 text-teal-600 rounded-lg",children:CT(H.label)}),Q.jsx("span",{className:`font-medium ${o?"text-white":"text-black"}`,children:H.label})]}),Q.jsx("button",{onClick:()=>y(_===H.id?null:H.id),className:"text-xs bg-blue-50 text-blue-600 px-3 py-1 rounded-full font-bold",children:"Tarefas"})]}),_===H.id&&Q.jsxs("div",{className:"mt-4 space-y-2 pl-4",children:[(H.tasks||[]).map((Z,W)=>Q.jsxs("div",{className:`flex justify-between text-sm items-center border p-2 rounded ${o?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[Q.jsx("span",{className:o?"text-slate-300":"text-slate-700",children:Z}),Q.jsx("button",{onClick:()=>q(H.id,W),className:"text-red-400",children:Q.jsx(WA,{size:14})})]},W)),Q.jsxs("div",{className:"flex gap-2 mt-2",children:[Q.jsx("input",{value:A,onChange:Z=>S(Z.target.value),placeholder:"Nova tarefa...",className:`flex-1 text-sm p-2 border rounded ${o?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),Q.jsx("button",{onClick:()=>M(H.id),className:"bg-teal-500 text-white p-2 rounded",children:Q.jsx(jA,{size:16})})]})]})]},H.id))})]})]})};function lN({houseId:a,currentUser:t,onLogout:i}){const[r,o]=Ue.useState(null),[c,d]=Ue.useState("home"),[p,_]=Ue.useState(null),[y,A]=Ue.useState(0),[S,M]=Ue.useState(!1);Ue.useEffect(()=>{const Vt=window.document.documentElement;S?(Vt.classList.add("dark"),document.body.classList.add("bg-slate-950")):(Vt.classList.remove("dark"),document.body.classList.remove("bg-slate-950"))},[S]),Ue.useEffect(()=>{if(!a)return;const Vt=D0(tv,"houses",a),wt=WR(Vt,I=>{if(I.exists()){const b=I.data();!b.zones||Object.keys(b.zones).length===0?U0(Vt,{zones:ev.zones,users:ev.users,history:{}}):o(b)}});return()=>wt()},[a]);const q=async Vt=>{a&&await U0(D0(tv,"houses",a),Vt)},H=(Vt,wt)=>{const I=nv(y),b={...r.history,[I]:{...r.history[I]||{},[Vt]:wt}};q({history:b})};if(!r)return Q.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-400 animate-pulse",children:"A sincronizar casa..."});const Z=r.history[nv(y)]||{},W=r.users.length,lt=Object.keys(r.zones).length,mt=Math.min(W,lt),ft=Object.values(Z).filter(Boolean).length,qt=mt>0?ft/mt*100:0;return Q.jsx("div",{className:`min-h-screen font-sans transition-colors duration-300 ${S?"bg-slate-950 text-slate-100":"bg-slate-50 text-slate-900"}`,children:Q.jsx("div",{className:`max-w-md mx-auto min-h-screen shadow-2xl overflow-hidden flex flex-col ${S?"bg-slate-950":"bg-white"}`,children:Q.jsxs("main",{className:"flex-1 overflow-y-auto p-6 scrollbar-hide",children:[c==="home"&&Q.jsx(sN,{users:r.users,zones:r.zones,currentWeekStatus:Z,setView:d,setSelectedUser:_,totalProgress:qt,isDarkMode:S,toggleTheme:()=>M(!S),weekOffset:y,setWeekOffset:A,houseId:a}),c==="profile"&&p&&Q.jsx(rN,{user:p,zones:r.zones,currentWeekStatus:Z,onBack:()=>d("home"),onToggleTaskCompletion:H,isDarkMode:S,weekOffset:y,usersCount:r.users.length}),c==="house"&&Q.jsx(aN,{users:r.users,zones:r.zones,onBack:()=>d("home"),onUpdateData:q,isDarkMode:S,onLogout:i})]})})})}_A.createRoot(document.getElementById("root")).render(Q.jsx(cA.StrictMode,{children:Q.jsx(lN,{})}));
